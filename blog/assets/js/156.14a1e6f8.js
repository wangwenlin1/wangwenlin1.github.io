(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{1230:function(a,t,o){"use strict";o.r(t);var s=o(19),n=Object(s.a)({},(function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[o("h1",{attrs:{id:"centos7安装mongodb和设置开机自动启动"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#centos7安装mongodb和设置开机自动启动"}},[a._v("#")]),a._v(" centos7安装mongodb和设置开机自动启动")]),a._v(" "),o("h2",{attrs:{id:"_1、安装mongod"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装mongod"}},[a._v("#")]),a._v(" 1、安装mongod")]),a._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[a._v("wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-4.2.5.tgz\ntar -zxvf mongodb-linux-x86_64-rhel70-4.2.5.tgz\nmv mongodb-linux-x86_64-rhel70-4.2.5/ /usr/local/mongodb\n\nmkdir  -p  /usr/local/mongodb/data\nmkdir  -p  /usr/local/mongodb/logs\n\nln -s /usr/local/mongodb/bin/mongod mongod\nln -s /usr/local/mongodb/bin/mongo mongo\n")])])]),o("h2",{attrs:{id:"_2、设置开机自动启动"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_2、设置开机自动启动"}},[a._v("#")]),a._v(" 2、设置开机自动启动")]),a._v(" "),o("h3",{attrs:{id:"_1、新增sh脚本"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_1、新增sh脚本"}},[a._v("#")]),a._v(" 1、新增sh脚本")]),a._v(" "),o("p",[a._v("添加关联mongodb.conf文件"),o("br"),a._v("\nvim /etc/mongodb.conf")]),a._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[a._v("net:\n  port: 27017\n  bindIp: 0.0.0.0  # Listen to local interface only, comment to listen on all interfaces.\n  ipv6: false\n")])])]),o("p",[a._v("新增sh脚本放在根目录的shell下面mongod_start.sh")]),a._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[a._v("#!/bin/bash\n# pkill -9 mongod;\n/usr/local/mongodb/bin/mongod --shutdown --dbpath /usr/local/mongodb/data/;\nnohup /usr/local/mongodb/bin/mongod  -f /etc/mongodb.conf --dbpath=/usr/local/mongodb/data --logpath=/usr/local/mongodb/logs/log.txt  > /shell/mongod.log 2>&1 &\n")])])]),o("p",[a._v("设置权限777")]),a._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[a._v("chmod 777 mongod_start.sh\n")])])]),o("h3",{attrs:{id:"_2、添加脚本到开机自启动"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_2、添加脚本到开机自启动"}},[a._v("#")]),a._v(" 2、添加脚本到开机自启动")]),a._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[a._v("vim /etc/rc.d/rc.local\n")])])]),o("p",[a._v("文件后面追加"),o("br"),a._v("\nsh /shell/mongod_start.sh")]),a._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[a._v("chmod +x /etc/rc.d/rc.local\n")])])]),o("p",[a._v("然后就搞定了")])])}),[],!1,null,null,null);t.default=n.exports}}]);