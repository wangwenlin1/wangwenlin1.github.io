(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{1223:function(a,e,t){"use strict";t.r(e);var s=t(19),n=Object(s.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"æŸ¥è¯¢dsl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æŸ¥è¯¢dsl"}},[a._v("#")]),a._v(" æŸ¥è¯¢DSL")]),a._v(" "),t("h2",{attrs:{id:"æŸ¥è¯¢è¿‡æ»¤çš„åŒºåˆ«"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æŸ¥è¯¢è¿‡æ»¤çš„åŒºåˆ«"}},[a._v("#")]),a._v(" æŸ¥è¯¢è¿‡æ»¤çš„åŒºåˆ«")]),a._v(" "),t("p",[a._v("Elasticsearchæä¾›äº†åŸºäºJSONçš„å®Œæ•´æŸ¥è¯¢DSLæ¥å®šä¹‰æŸ¥è¯¢ã€‚æŸ¥è¯¢DSLåŒ…æ‹¬ä¸¤ç§å­å¥ï¼š")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("å¶æŸ¥è¯¢å­å¥Â ï¼šåœ¨ç‰¹å®šçš„å­—æ®µä¸ŠæŸ¥æ‰¾ç‰¹å®šçš„å€¼ï¼Œæ¯”å¦‚matchã€termæˆ–è€…rangeæŸ¥è¯¢ã€‚è¿™äº›æŸ¥è¯¢å¯ä»¥è‡ªå·±ä½¿ç”¨ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("å¤åˆæŸ¥è¯¢å­å¥Â ï¼šåŒ…å«å…¶ä»–å¶æŸ¥è¯¢æˆ–å¤åˆæŸ¥è¯¢å­å¥ï¼Œä»¥åˆç†çš„æ–¹å¼ç»“åˆå¤šæ¡æŸ¥è¯¢ï¼ˆæ¯”å¦‚boolæˆ–dis_maxæŸ¥è¯¢ï¼‰ï¼Œæˆ–è€…æ”¹å˜æŸ¥è¯¢è¡Œä¸ºï¼ˆæ¯”å¦‚notæˆ–constant_scoreæŸ¥è¯¢ï¼‰ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("æŸ¥è¯¢Â ï¼ˆqueryï¼‰ç”¨äºæ£€æŸ¥å†…å®¹ä¸æ¡ä»¶æ˜¯å¦åŒ¹é…ï¼Œå¹¶ä¸”è®¡ç®—_scoreå…ƒå­—æ®µè¡¨ç¤ºåŒ¹é…åº¦ã€‚æŸ¥è¯¢çš„ç»“æ„ä¸­ä»¥queryå‚æ•°å¼€å§‹æ¥æ‰§è¡Œå†…å®¹æŸ¥è¯¢ã€‚")])]),a._v(" "),t("li",[t("p",[a._v('è¿‡æ»¤Â ï¼ˆfilterï¼‰ä¸è®¡ç®—åŒ¹é…å¾—åˆ†ï¼Œåªæ˜¯ç®€å•åœ°å†³å®šæ–‡æ¡£æ˜¯å¦åŒ¹é…ã€‚å†…å®¹è¿‡æ»¤ä¸»è¦ç”¨äºè¿‡æ»¤ç»“æ„åŒ–çš„æ•°æ®ï¼Œä¾‹å¦‚ï¼šæ—¶é—´æ®µæ˜¯å¦åœ¨2015åˆ°2016å¹´ä¹‹é—´ï¼Œstatuså­—æ®µæ˜¯å¦è®¾ç½®ä¸º"published"ã€‚')])])]),a._v(" "),t("p",[a._v("ä½¿ç”¨è¿‡æ»¤å¾€å¾€ä¼šè¢«Elasticsearchè‡ªåŠ¨ç¼“å­˜æ¥æé«˜æ€§èƒ½ã€‚")]),a._v(" "),t("p",[a._v("æŸ¥è¯¢çš„å­å¥ä¹Ÿå¯ä»¥ä¼ é€’filterå‚æ•°ï¼Œæ¯”å¦‚boolæŸ¥è¯¢å†…çš„filterã€constant_scoreæŸ¥è¯¢å†…çš„filterå‚æ•°ç­‰ã€‚")]),a._v(" "),t("p",[a._v("ä¸¾ä¸ªæŸ¥è¯¢å­å¥çš„ä¾‹å­ã€‚æŸ¥è¯¢ä¼šåŒ¹é…ç¬¦åˆä¸‹åˆ—æ‰€æœ‰æ¡ä»¶çš„æ–‡æ¡£ï¼š")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("titleå­—æ®µåŒ…å«å•è¯Searchã€‚")])]),a._v(" "),t("li",[t("p",[a._v("contentå­—æ®µåŒ…å«å•è¯Elasticsearchã€‚")])]),a._v(" "),t("li",[t("p",[a._v("statuså­—æ®µåŒ…å«å‡†ç¡®çš„å•è¯publishedã€‚")])]),a._v(" "),t("li",[t("p",[a._v("publish_dateå­—æ®µåŒ…å«ä»2015å¹´1æœˆ1æ—¥ä¹‹åçš„æ—¥æœŸã€‚")])])]),a._v(" "),t("p",[a._v("è¯·æ±‚ï¼šPOSTÂ "),t("a",{attrs:{href:"http://127.0.0.1:9200/secisland/_search",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://127.0.0.1:9200/secisland/_search"),t("OutboundLink")],1)]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "query": {\n    "bool": {\n      "must": [\n        { "match": { "title":"Search"}},\n        { "match": { "content": "Elasticsearch" }}\n      ],\n      "filter": [\n        { "term":  { "status": "published" }},\n        { "range": { "publish_date": { "gte": "2015-01-01" }}}\n      ]\n    }\n  }\n}\n')])])]),t("p",[a._v("queryå‚æ•°è¡¨ç¤ºå†…å®¹æŸ¥è¯¢ã€‚å†…å®¹æŸ¥è¯¢ä¸­ä½¿ç”¨çš„boolå’Œmatchå­å¥ï¼Œç”¨äºè®¡ç®—æ¯ä¸ªæ–‡æ¡£çš„åŒ¹é…å¾—åˆ†ã€‚")]),a._v(" "),t("p",[a._v("filterå‚æ•°è¡¨ç¤ºå†…å®¹è¿‡æ»¤ã€‚å†…å®¹è¿‡æ»¤ä¸­ä½¿ç”¨çš„termå’Œrangeå­å¥ï¼Œä¼šè¿‡æ»¤æ‰ä¸åŒ¹é…çš„æ–‡æ¡£ï¼Œå¹¶ä¸”ä¸å½±å“è®¡ç®—æ–‡æ¡£åŒ¹é…å¾—åˆ†ã€‚")]),a._v(" "),t("p",[a._v("æœ€ç®€å•çš„æŸ¥è¯¢ï¼ŒåŒ¹é…æ‰€æœ‰æ–‡æ¡£ï¼Œæ–‡æ¡£çš„_scoreå€¼æ˜¯1.0ã€‚")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{ "match_all": {} }\n')])])]),t("p",[a._v("å¯ä»¥ä½¿ç”¨boostå‚æ•°ä¿®æ”¹_scoreå€¼ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{ "match_all": { "boost" : 1.2 }}\n')])])]),t("h2",{attrs:{id:"å…¨æ–‡æœç´¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å…¨æ–‡æœç´¢"}},[a._v("#")]),a._v(" å…¨æ–‡æœç´¢")]),a._v(" "),t("p",[a._v("åœ¨æ–‡æœ¬å­—æ®µä¸Šæ‰§è¡Œå…¨æ–‡æœç´¢ã€‚åœ¨æ‰§è¡ŒæŸ¥è¯¢ä¹‹å‰ï¼Œè¦äº†è§£è¢«æŸ¥è¯¢å­—æ®µçš„åˆ†è¯æ–¹å¼ï¼Œåœ¨æŸ¥è¯¢å­—ç¬¦ä¸²ä¸Šåº”ç”¨æ¯ä¸ªè¢«æŸ¥è¯¢å­—æ®µçš„æ˜ å°„åˆ†è¯å™¨ï¼ˆæˆ–æœç´¢åˆ†è¯å™¨ï¼‰ã€‚")]),a._v(" "),t("p",[a._v("æ ‡å‡†æŸ¥è¯¢Â æ¥å—æ–‡æœ¬/æ•°å­—/æ—¥æœŸçš„æŸ¥è¯¢ï¼Œåˆ†æå‚æ•°å¹¶ç»„æˆæŸ¥è¯¢æ¡ä»¶ã€‚ä¾‹å¦‚ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "match" : {"message" : "this is a test"}\n}\n')])])]),t("p",[a._v("æ³¨æ„ï¼Œmessageæ˜¯å­—æ®µåï¼Œå¯ä»¥ç”¨ä»»ä½•å­—æ®µçš„åï¼ˆåŒ…æ‹¬_allï¼‰æ¥æ›¿æ¢ã€‚")]),a._v(" "),t("p",[a._v("æœ‰ä¸‰ç§ç±»å‹çš„matchæŸ¥è¯¢ï¼šå¸ƒå°”ï¼ˆbooleanï¼‰ã€çŸ­è¯­ï¼ˆphraseï¼‰å’ŒçŸ­è¯­å‰ç¼€ï¼ˆphrase_prefixï¼‰ã€‚é™¤æ­¤ä¹‹å¤–è¿˜æœ‰å¤šæ®µæŸ¥è¯¢ã€Luceneè¯­æ³•æŸ¥è¯¢ã€ç®€åŒ–æŸ¥è¯¢ã€‚ä¸‹é¢åˆ†åˆ«ä»‹ç»ã€‚")]),a._v(" "),t("ol",[t("li",[a._v("å¸ƒå°”æŸ¥è¯¢")])]),a._v(" "),t("p",[a._v("é»˜è®¤çš„æ ‡å‡†æŸ¥è¯¢ç±»å‹ï¼Œåˆ†ææ–‡æœ¬å¹¶ä¸”ç»„æˆä¸€ä¸ªå¸ƒå°”æŸ¥è¯¢ã€‚operatorå‚æ•°å¯ä»¥è®¾ç½®ä¸ºoræˆ–è€…andæ¥æ§åˆ¶å¸ƒå°”å­å¥ï¼ˆé»˜è®¤ä¸ºorï¼‰ã€‚ç”¨äºåŒ¹é…çš„shouldå­å¥ï¼ˆå¯é€‰ï¼‰çš„æœ€å°æ•°é‡å¯ä»¥ä½¿ç”¨minimun_should_matchå‚æ•°æ¥è®¾ç½®ã€‚")]),a._v(" "),t("p",[a._v("å¯ä»¥è®¾ç½®analyzeræ¥æ§åˆ¶åœ¨æ–‡æœ¬ä¸Šæ‰§è¡Œåˆ†æè¿‡ç¨‹çš„åˆ†è¯å™¨ã€‚é»˜è®¤æ˜¯å­—æ®µæ˜ å°„ä¸­æ˜ç¡®å®šä¹‰æˆ–è€…é»˜è®¤çš„æœç´¢åˆ†è¯å™¨ã€‚")]),a._v(" "),t("p",[a._v("lenientå‚æ•°å¯ä»¥è®¾ç½®ä¸ºtrueæ¥å¿½ç•¥æ•°æ®ç±»å‹åŒ¹é…å‡ºé”™é€ æˆçš„å¼‚å¸¸ï¼Œä¾‹å¦‚å°è¯•é€šè¿‡æ–‡æœ¬æŸ¥è¯¢å­—ç¬¦ä¸²æ¥æŸ¥è¯¢æ•°å­—ç±»å‹å­—æ®µã€‚é»˜è®¤ä¸ºfalseã€‚")]),a._v(" "),t("p",[a._v("ï¼ˆ1ï¼‰æ¨¡ç³ŠåŒ¹é…")]),a._v(" "),t("p",[a._v("fuzzinesså¯ä»¥å¯¹è¯·æ±‚çš„å­—æ®µç±»å‹è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ã€‚")]),a._v(" "),t("p",[a._v("prefix_length å’Œ max_expansions åœ¨è¿™ç§æƒ…å†µä¸‹å¯ä»¥ç”¨æ¥æ§åˆ¶æ¨¡ç³Šè¿‡ç¨‹ã€‚å¦‚æœè®¾ç½®æ¨¡ç³Šé€‰é¡¹ï¼ŒæŸ¥è¯¢ä¼šä½¿ç”¨ top_terms_blended_freqs_${max_expansions}ä½œä¸ºé‡å†™æ–¹æ³•ã€‚fuzzy_rewrite å‚æ•°å¯ä»¥æ§åˆ¶æŸ¥è¯¢ä¼šæ€æ ·è¿›è¡Œé‡å†™ã€‚")]),a._v(" "),t("p",[a._v("æä¾›é¢å¤–å‚æ•°çš„ä¾‹å­ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "match" : {\n    "message" : {"query" : "this is a test","operator" : "and"}\n  }\n}\n')])])]),t("p",[a._v("ï¼ˆ2ï¼‰é›¶ç´¢å¼•è¯æŸ¥è¯¢")]),a._v(" "),t("p",[a._v("å¦‚æœæŸ¥è¯¢ä½¿ç”¨çš„åˆ†è¯å™¨ç§»é™¤æ‰€æœ‰è¯å…ƒï¼Œé»˜è®¤è¡Œä¸ºæ˜¯ä¸åŒ¹é…ä»»ä½•æ–‡æ¡£ã€‚å¯ä»¥ä½¿ç”¨zero_terms_queryé€‰é¡¹è¿›è¡Œä¿®æ”¹ï¼Œæ¥å—noneï¼ˆé»˜è®¤ï¼‰å’Œallï¼ˆç›¸å½“äºmatch_allæŸ¥è¯¢ï¼‰ã€‚")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "match" : {\n    "message" : {\n      "query" : "to be or not to be",\n      "operator" : "and",\n      "zero_terms_query": "all"\n    }\n  }\n}\n')])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("çŸ­è¯­æŸ¥è¯¢")])]),a._v(" "),t("p",[a._v("çŸ­è¯­æŸ¥è¯¢åˆ†ææ–‡æœ¬å¹¶ä¸”åˆ›å»ºçŸ­è¯­æŸ¥è¯¢ã€‚ä¾‹å¦‚ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "match_phrase" : {\n    "message" : "this is a test"\n  }\n}\n')])])]),t("p",[a._v("å› ä¸ºçŸ­è¯­æŸ¥è¯¢åªæ˜¯æ ‡å‡†æŸ¥è¯¢çš„ä¸€ä¸ªç±»å‹ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼ä½¿ç”¨ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "match" : {\n    "message" : {"query" : "this is a test","type" : "phrase"}\n  }\n}\n')])])]),t("p",[a._v("çŸ­è¯­æŸ¥è¯¢æ ¹æ®ä¸€ä¸ªå¯é…ç½®çš„slopï¼ˆé»˜è®¤ä¸º0ï¼‰åŒ¹é…ç´¢å¼•è¯ã€‚")]),a._v(" "),t("p",[a._v("å¯ä»¥è®¾ç½®analyzeræ¥æ§åˆ¶å°†è¦åœ¨æ–‡æœ¬ä¸Šæ‰§è¡Œåˆ†è¯çš„åˆ†è¯å™¨ã€‚é»˜è®¤æ˜¯å­—æ®µæ˜ å°„ä¸­å®šä¹‰çš„åˆ†æå™¨ï¼Œæˆ–è€…æ˜¯é»˜è®¤çš„æœç´¢åˆ†æå™¨ï¼Œä¾‹å¦‚ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "match_phrase" : {\n    "message" : {"query" : "this is a test","analyzer" : "my_analyzer"}\n  }\n}\n')])])]),t("ol",{attrs:{start:"3"}},[t("li",[a._v("çŸ­è¯­å‰ç¼€æŸ¥è¯¢")])]),a._v(" "),t("p",[a._v("å¯ä»¥å¯¹æ–‡æœ¬æœ€åä¸€ä¸ªå­—æ®µè¿›è¡Œå‰ç¼€åŒ¹é…ã€‚ä¾‹å¦‚ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "match_phrase_prefix" : {"message" : "this is a test"}\n}\n')])])]),t("p",[a._v("å’ŒçŸ­è¯­æŸ¥è¯¢ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "match" : {\n    "message" : {"query" : "this is a test","type" : "phrase_prefix"}\n  }\n}\n')])])]),t("p",[a._v("æ¥å—çŸ­è¯­æŸ¥è¯¢ç›¸åŒçš„å‚æ•°ã€‚æ­¤å¤–ï¼Œä¹Ÿæ¥å—max_expansionså‚æ•°ï¼Œå¯ä»¥æ§åˆ¶æœ€åç´¢å¼•è¯ä¼šæ‰©å±•å¤šå°‘å‰ç¼€ã€‚æ¨èè®¾ç½®ä¸ºä¸€ä¸ªå¯ä»¥æ¥å—çš„å€¼æ¥æ§åˆ¶æŸ¥è¯¢çš„æ‰§è¡Œæ—¶é—´ã€‚ä¾‹å¦‚ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "match_phrase_prefix" : {\n    "message" : {"query" : "this is a test","max_expansions" : 10}\n  }\n}\n')])])]),t("ol",{attrs:{start:"4"}},[t("li",[a._v("å¤šå­—æ®µæŸ¥è¯¢")])]),a._v(" "),t("p",[a._v("åœ¨æ ‡å‡†æŸ¥è¯¢çš„åŸºç¡€ä¸Šï¼Œæ”¯æŒå¤šå­—æ®µæŸ¥è¯¢ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "multi_match" : {\n    "query": "this is a test",\n    "fields": [ "subject", "message" ]\n  }\n}\n')])])]),t("p",[a._v("å­—æ®µå¯ä»¥é€šè¿‡é€šé…ç¬¦æŒ‡å®šï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "multi_match" : {\n    "query": "Will Smith",\n    "fields": [ "title", "*_name" ]\n  }\n}\n')])])]),t("p",[a._v("ä¸ªåˆ«å­—æ®µå¯ä»¥ç”¨caretï¼ˆ^ï¼‰ç¬¦å·åŠ æƒï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "multi_match" : {\n    "query" : "this is a test",\n    "fields" : [ "subject^3", "message" ]\n  }\n}\n')])])]),t("p",[a._v("ä¸Šè¿°ä»£ç çš„å«ä¹‰æ˜¯ï¼šsubjectå­—æ®µæ¯”messageå­—æ®µé‡è¦ä¸‰å€ã€‚")]),a._v(" "),t("p",[a._v("å¤šåŒ¹é…æŸ¥è¯¢å†…éƒ¨æ‰§è¡Œæ–¹å¼å–å†³äºtypeå‚æ•°ï¼Œå¯ä»¥è®¾ç½®çš„å€¼å¦‚ä¸‹æ‰€ç¤ºï¼š")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("best_fields------ï¼ˆé»˜è®¤ï¼‰æŸ¥æ‰¾åŒ¹é…ä»»ä½•å­—æ®µçš„æ–‡æ¡£ï¼Œä½†æ˜¯ä½¿ç”¨æœ€ä½³åŒ¹é…å­—æ®µçš„_scoreã€‚")])]),a._v(" "),t("li",[t("p",[a._v("most_fields------æŸ¥æ‰¾åŒ¹é…ä»»ä½•å­—æ®µçš„æ–‡æ¡£ï¼Œç»“åˆæ¯ä¸ªå­—æ®µçš„_scoreã€‚")])]),a._v(" "),t("li",[t("p",[a._v("cross_fields------ç”¨ç›¸åŒçš„åˆ†æå™¨å¤„ç†å­—æ®µï¼ŒæŠŠè¿™äº›å­—æ®µå½“ä½œä¸€ä¸ªå¤§å­—æ®µã€‚æŸ¥æ‰¾ä»»ä½•å­—æ®µçš„æ¯ä¸ªå•è¯ã€‚")])]),a._v(" "),t("li",[t("p",[a._v("phrase------åœ¨æ¯ä¸ªå­—æ®µä¸Šè¿è¡ŒçŸ­è¯­åŒ¹é…æŸ¥è¯¢ï¼Œç»“åˆæ¯ä¸ªå­—æ®µçš„_scoreã€‚")])]),a._v(" "),t("li",[t("p",[a._v("phrase_prefix------åœ¨æ¯ä¸ªå­—æ®µä¸Šè¿è¡ŒçŸ­è¯­å‰ç¼€åŒ¹é…æŸ¥è¯¢ï¼Œç»“åˆæ¯ä¸ªå­—æ®µçš„_scoreã€‚")])])]),a._v(" "),t("p",[a._v("ä¸‹é¢ä»‹ç»è¿™å‡ ä¸ªå€¼ã€‚")]),a._v(" "),t("p",[a._v("ï¼ˆ1ï¼‰best_fields")]),a._v(" "),t("p",[a._v('åœ¨åŒä¸€ä¸ªå­—æ®µä¸­æœç´¢å¤šä¸ªå•è¯çš„æ—¶å€™æ­¤å‚æ•°æœ€æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå­—æ®µä¸­åŒ…å«"brown fox"æ¯”åŒ…å«"brown"æˆ–åŒ…å«"fox"æ›´æœ‰æ„ä¹‰ã€‚best_fieldsç±»å‹å¯¹æ¯ä¸ªå­—æ®µç”Ÿæˆä¸€ä¸ªåŒ¹é…æŸ¥è¯¢å¹¶ä¸”å°è£…æˆdis_maxæŸ¥è¯¢ï¼Œæ¥æ‰¾åˆ°æœ€ä½³åŒ¹é…å­—æ®µã€‚ä¾‹å¦‚ï¼ŒæŸ¥è¯¢è¯­å¥ï¼š')]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "multi_match" : {\n    "query": "brown fox",\n    "type": "best_fields",\n    "fields": [ "subject", "message" ],\n    "tie_breaker": 0.3\n  }\n}\n')])])]),t("p",[a._v("ä¼šæ‰§è¡Œä¸ºï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "dis_max": {\n    "queries": [\n      { "match": { "subject": "brown fox" }},\n      { "match": { "message": "brown fox" }}\n    ],\n    "tie_breaker": 0.3\n  }\n}\n')])])]),t("p",[a._v('é€šå¸¸ï¼Œbest_fieldsç±»å‹ä½¿ç”¨æœ€ä½³åŒ¹é…å­—æ®µçš„å¾—åˆ†ï¼Œä½†æ˜¯å¦‚æœæŒ‡å®šäº†tie_breakerï¼Œå¯ä»¥é€šè¿‡"æœ€ä½³åŒ¹é…å­—æ®µçš„å¾—åˆ†"æ¥è®¡ç®—åŒ¹é…å¾—åˆ†ã€‚')]),a._v(" "),t("p",[a._v("æ‰€æœ‰å…¶ä»–åŒ¹é…å­—æ®µçš„å‚æ•°åŒ…æ‹¬tie_breaker*_scoreç›¸åŠ ã€‚åŒæ—¶ï¼Œæ¥å—analyzerã€boostã€operatorã€minimum_should_matchã€fuzzinessã€prefix_lengthã€max_expansionsã€rewriteã€zero_terms_queryå’Œcutoff_frequencyã€‚")]),a._v(" "),t("p",[a._v("å…¶ä¸­ï¼Œminimum_should_matchå‚æ•°å¯èƒ½çš„å€¼è§è¡¨4-2ã€‚")]),a._v(" "),t("p",[a._v("ï¼ˆ2ï¼‰most_fields")]),a._v(" "),t("p",[a._v("å½“æŸ¥è¯¢å¤šå­—æ®µåŒ…å«ç›¸åŒæ–‡æœ¬ä»¥ä¸åŒæ–¹å¼åˆ†è¯çš„æ—¶å€™æ­¤å‚æ•°æœ€æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œä¸»å­—æ®µåŒ…å«åŒä¹‰è¯ã€è¯æ ¹å’Œä¸åŒºåˆ†å¤§å°å†™çš„ç´¢å¼•è¯ï¼›ç¬¬äºŒä¸ªå­—æ®µå¯èƒ½åŒ…å«åŸå§‹çš„ç´¢å¼•è¯ï¼›ç¬¬ä¸‰ä¸ªå­—æ®µå¯ä»¥åŒ…å«å•ä¸ªç´¢å¼•è¯ã€‚é€šè¿‡ç»“åˆæ‰€æœ‰ä¸‰ä¸ªå­—æ®µçš„å¾—åˆ†å¯ä»¥é€šè¿‡ä¸»å­—æ®µåŒ¹é…å°½å¯èƒ½å¤šçš„æ–‡æ¡£ï¼Œé€šè¿‡ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå­—æ®µæŠŠæœ€ç›¸è¿‘çš„ç»“æœæ¨åˆ°åˆ—è¡¨çš„é¡¶ç«¯ã€‚")]),a._v(" "),t("p",[a._v("è¡¨4-2ã€€æœ€ä½åŒ¹é…å€¼")]),a._v(" "),t("p",[t("img",{attrs:{src:"http://reader.epubee.com/books/mobile/f8/f8fc674e229abfd9abb3cc5ba2ec41de/Image00043.jpg",alt:""}})]),a._v(" "),t("p",[a._v("æŸ¥è¯¢è¯­å¥ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "multi_match" : {\n    "query": "quick brown fox",\n    "type": "most_fields",\n    "fields": [ "title", "title.original", "title.shingles" ]\n  }\n}\n')])])]),t("p",[a._v("ä¼šæ‰§è¡Œä¸ºï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "bool": {\n    "should": [\n      { "match": { "title": "quick brown fox" }},\n      { "match": { "title.original": "quick brown fox" }},\n      { "match": { "title.shingles": "quick brown fox" }}\n    ]\n  }\n}\n')])])]),t("p",[a._v("æœ€ç»ˆçš„åŒ¹é…å¾—åˆ†æ˜¯å°†æ¯ä¸ªåŒ¹é…å­å¥çš„å¾—åˆ†åŠ åœ¨ä¸€å—ï¼Œç„¶åé™¤ä»¥åŒ¹é…å­å¥çš„æ•°é‡ã€‚")]),a._v(" "),t("p",[a._v("æ¥å—çš„å‚æ•°æœ‰ï¼šanalyzerã€boostã€operatorã€minimun_should_matchã€fuzzinessã€prefix_lengthã€max_expansionsã€rewriteã€zero_terms_queryå’Œcutoff_frequencyã€‚")]),a._v(" "),t("p",[a._v("ï¼ˆ3ï¼‰cross_fields")]),a._v(" "),t("p",[a._v('å½“ç»“æ„åŒ–çš„æ–‡æ¡£ä¸­å¤šä¸ªå­—æ®µåº”è¯¥åŒ¹é…çš„æ—¶å€™ï¼Œæ­¤å‚æ•°ç‰¹åˆ«æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œå½“é€šè¿‡first_nameå’Œlast_nameå­—æ®µæŸ¥è¯¢"Will Smith"çš„æ—¶å€™ï¼Œæœ€ä½³çš„åŒ¹é…æ˜¯"Will"åœ¨ä¸€ä¸ªå­—æ®µï¼Œ"Smith"åœ¨å¦ä¸€ä¸ªå­—æ®µã€‚')]),a._v(" "),t("p",[a._v("ä¸€ç§å¤„ç†è¿™ç§æŸ¥è¯¢çš„ç®€å•æ–¹å¼æ˜¯å°†first_nameå’Œlast_nameå­—æ®µç´¢å¼•åˆ°ä¸€ä¸ªfull_nameå­—æ®µã€‚å½“ç„¶ï¼Œè¿™åªèƒ½åœ¨ç´¢å¼•çš„æ—¶å€™å®Œæˆã€‚")]),a._v(" "),t("p",[a._v("cross_fieldsç±»å‹åœ¨æŸ¥è¯¢æ—¶é€šè¿‡é‡‡å–term-centricæ–¹æ³•æ¥å°è¯•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚é¦–å…ˆå°†æŸ¥è¯¢å­—ç¬¦ä¸²åˆ†è¯ä¸ºå•ç‹¬çš„ç´¢å¼•è¯ï¼Œç„¶ååœ¨ä»»ä¸€å­—æ®µä¸­æŸ¥æ‰¾æ¯ä¸ªç´¢å¼•è¯ã€‚")]),a._v(" "),t("p",[a._v("æŸ¥è¯¢ç¤ºä¾‹å¦‚ä¸‹ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "multi_match" : {\n    "query": "Will Smith",\n    "type": "cross_fields",\n    "fields": [ "first_name", "last_name" ],\n    "operator": "and"\n  }\n}\n')])])]),t("p",[a._v("æ¥å—çš„å‚æ•°æœ‰ï¼šanalyzerã€boostã€operatorã€minimum_should_matchã€zero_terms_queryå’Œcutoff_frequencyã€‚")]),a._v(" "),t("p",[a._v("ï¼ˆ4ï¼‰phraseå’Œphrase_prefix")]),a._v(" "),t("p",[a._v("çŸ­è¯­å’ŒçŸ­è¯­å‰ç¼€ç±»å‹å’Œbest_fieldsä¸€æ ·ï¼Œåªä¸è¿‡ä½¿ç”¨çš„æ˜¯match_phraseæŸ¥è¯¢æˆ–è€…match_phrase_prefixæŸ¥è¯¢è€Œä¸æ˜¯matchæŸ¥è¯¢ã€‚")]),a._v(" "),t("p",[a._v("æŸ¥è¯¢ç¤ºä¾‹å¦‚ä¸‹ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "multi_match" : {\n    "query": "quick brown f",\n    "type": "phrase_prefix",\n    "fields": [ "subject", "message" ]\n  }\n}\n')])])]),t("p",[a._v("ä¼šæ‰§è¡Œä¸ºï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "dis_max": {\n    "queries": [\n      { "match_phrase_prefix": { "subject": "quick brown f" }},\n      { "match_phrase_prefix": { "message": "quick brown f" }}\n    ]\n  }\n}\n')])])]),t("p",[a._v("æ¥å—å¦‚ä¸‹å‚æ•°ï¼šanalyzerã€boostã€slopå’Œzero_terms_queryå‚æ•°ã€‚æ­¤å¤–ï¼ŒçŸ­è¯­å‰ç¼€ç±»å‹æ¥å—max_expansionsã€‚")]),a._v(" "),t("p",[a._v("ï¼ˆ5ï¼‰cross_fieldå’Œåˆ†è¯å™¨")]),a._v(" "),t("p",[a._v("cross_fieldç±»å‹åªèƒ½å¤Ÿå·¥ä½œåœ¨ä½¿ç”¨ç›¸åŒåˆ†è¯å™¨çš„term-centricæ¨¡å¼çš„å­—æ®µã€‚å…·æœ‰ç›¸åŒåˆ†è¯å™¨çš„å­—æ®µè¢«åˆ†åœ¨ä¸€ç»„ï¼Œå¦‚æœæœ‰å¤šä¸ªåˆ†ç»„ï¼Œä¼šé€šè¿‡boolæŸ¥è¯¢ç»“åˆåœ¨ä¸€èµ·ã€‚")]),a._v(" "),t("p",[a._v("ä¾‹å¦‚ï¼Œfirstå’Œlastå­—æ®µæ‹¥æœ‰ç›¸åŒçš„åˆ†è¯å™¨ï¼Œæ·»åŠ first.edgeå’Œlast.edgeä½¿ç”¨edge_ngramåˆ†æå™¨ï¼ŒæŸ¥è¯¢ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "multi_match" : {\n    "query": "Jon",\n    "type": "cross_fields",\n    "fields": ["first", "first.edge","last",  "last.edge"]\n  }\n}\n')])])]),t("p",[a._v("firstå’Œlastä¼šè¢«ç»„åœ¨ä¸€èµ·ä½œä¸ºå•ç‹¬çš„å­—æ®µï¼Œfirst.edgeå’Œlast.edgeä¼šè¢«ç»„åœ¨ä¸€èµ·ä½œä¸ºå•ç‹¬çš„å­—æ®µã€‚")]),a._v(" "),t("p",[a._v("å¯ä»¥é‡å†™æŸ¥è¯¢ä½œä¸ºä¸¤ä¸ªé€šè¿‡boolæŸ¥è¯¢è”åˆåœ¨ä¸€èµ·çš„cross_fieldsæŸ¥è¯¢ï¼Œç„¶åå¯¹å…¶ä¸­ä¸€ä¸ªåº”ç”¨minimum_should_matchå‚æ•°ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "bool": {\n    "should": [\n      {\n        "multi_match" : {\n          "query": "Will Smith",\n          "type": "cross_fields",\n          "fields": [ "first", "last" ],\n          "minimum_should_match": "50%"\n        }\n      },\n    {\n        "multi_match" : {\n          "query": "Will Smith",\n          "type": "cross_fields",\n          "fields": [ "*.edge" ]\n        }\n      }\n    ]\n  }\n}\n')])])]),t("p",[a._v("ä¹Ÿå¯ä»¥å¼ºè¿«æ‰€æœ‰å­—æ®µåˆ°ç›¸åŒçš„åˆ†ç»„ï¼Œæ–¹æ³•æ˜¯åœ¨æŸ¥è¯¢ä¸­æŒ‡å®šanalyzerå‚æ•°ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "multi_match" : {\n    "query": "Jon",\n    "type": "cross_fields",\n    "analyzer": "standard",\n    "fields": [ "first", "last", "*.edge" ]\n  }\n}\n')])])]),t("ol",{attrs:{start:"5"}},[t("li",[a._v("Luceneè¯­æ³•æŸ¥è¯¢")])]),a._v(" "),t("p",[a._v("é€šè¿‡ä½¿ç”¨è¯­æ³•åˆ†æå™¨æ¥åˆ†æå†…å®¹è¿›è¡ŒæŸ¥è¯¢ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "query_string" : {\n    "default_field" : "content",\n    "query" : "this AND that OR thus"\n  }\n}\n')])])]),t("p",[a._v("query_stringä¸ºæœ€é«˜çº§åˆ«ï¼Œå‚æ•°è§è¡¨4-3ã€‚")]),a._v(" "),t("p",[a._v("è¡¨4-3ã€€æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°")]),a._v(" "),t("p",[t("img",{attrs:{src:"http://reader.epubee.com/books/mobile/f8/f8fc674e229abfd9abb3cc5ba2ec41de/Image00044.jpg",alt:""}})]),a._v(" "),t("p",[a._v("ï¼ˆ1ï¼‰é»˜è®¤å­—æ®µ")]),a._v(" "),t("p",[a._v("å¦‚æœåœ¨æŸ¥è¯¢å­—ç¬¦ä¸²è¯­æ³•ä¸­æ²¡æœ‰æ˜ç¡®æŒ‡å‡ºæŸ¥è¯¢çš„å­—æ®µï¼Œä¼šinde.query.default_fieldæå–éœ€è¦æœç´¢çš„å­—æ®µã€‚é»˜è®¤ä¸º_allå­—æ®µã€‚")]),a._v(" "),t("p",[a._v("æ‰€ä»¥ï¼Œå¦‚æœ_allå­—æ®µè¢«ç¦ç”¨ï¼Œå°†å…¶ä¿®æ”¹è®¾ç½®ä¸ºä¸€ä¸ªä¸åŒçš„é»˜è®¤å­—æ®µæ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚")]),a._v(" "),t("p",[a._v("ï¼ˆ2ï¼‰å¤šå­—æ®µ")]),a._v(" "),t("p",[a._v('query_stringæŸ¥è¯¢ä¹Ÿå¯ä»¥åœ¨å¤šä¸ªå­—æ®µä¸Šæ‰§è¡Œã€‚å¯ä»¥é€šè¿‡"fields"å‚æ•°å®šä¹‰å­—æ®µã€‚')]),a._v(" "),t("p",[a._v("å¤šå­—æ®µæ‰§è¡Œquery_stringæŸ¥è¯¢çš„æ„ä¹‰åœ¨äºåˆ©ç”¨ORå­å¥æ‰©å±•æ¯ä¸ªæŸ¥è¯¢ç´¢å¼•è¯ï¼Œå½¢å¦‚ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("field1:query_term OR field2:query_term | ...\n\n")])])]),t("p",[a._v("ä¾‹å¦‚ï¼Œä¸‹é¢çš„æŸ¥è¯¢ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "query_string" : {"fields" : ["content", "name"],"query" : "this AND that"}\n}\n')])])]),t("p",[a._v("å®é™…åŒ¹é…å½¢å¼ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "query_string": {\n  "query": "(content:this OR name:this) AND (content:that OR name:that)"}\n}\n')])])]),t("p",[a._v("ï¼ˆ3ï¼‰è¯­æ³•")]),a._v(" "),t("p",[a._v("æŸ¥è¯¢å­—ç¬¦ä¸²è¢«è§£æä¸ºä¸€ç³»åˆ—å­—æ®µå’Œè¿ç®—ç¬¦ã€‚å­—æ®µå¯ä»¥æ˜¯ä¸€ä¸ªå•è¯æˆ–è€…çŸ­è¯­ï¼ˆæœç´¢çŸ­è¯­ä¸­çš„æ‰€æœ‰å•è¯ï¼Œä»¥ç›¸åŒçš„é¡ºåºç”¨åŒå¼•å·åŒ…èµ·æ¥ï¼‰ã€‚")]),a._v(" "),t("p",[a._v("å¯ç”¨çš„é€‰é¡¹æœ‰ï¼š")]),a._v(" "),t("p",[a._v("1ï¼‰å­—æ®µå------å¯ä»¥æŒ‡å®šdefault_fieldä¹‹å¤–çš„å…¶ä»–å­—æ®µã€‚")]),a._v(" "),t("ul",[t("li",[a._v("statuså­—æ®µåŒ…å«activeã€‚")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("status:active\n\n")])])]),t("ul",[t("li",[a._v("titleå­—æ®µåŒ…å«quickæˆ–brownã€‚")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("title:(quick OR brown)\ntitle:(quick brown)\n\n")])])]),t("ul",[t("li",[a._v('authorå­—æ®µåŒ…å«çŸ­è¯­"John Smith"ã€‚')])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('author:"John Smith"\n\n')])])]),t("ul",[t("li",[a._v("ä»»ä½•book.titleã€book.contentæˆ–book.dateå­—æ®µåŒ…å«quickæˆ–brownï¼ˆæ³¨æ„ï¼Œéœ€è¦ç”¨åæ–œçº¿è½¬ä¹‰*ï¼‰ã€‚")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("book.\\*:(quick brown)\n\n")])])]),t("ul",[t("li",[a._v("titleå­—æ®µä¸åŒ…å«ï¼ˆæˆ–è€…ç¼ºå¤±ï¼‰å€¼ã€‚")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("_missing_:title\n\n")])])]),t("ul",[t("li",[a._v("titleå­—æ®µåŒ…å«ä»»ä½•éç©ºå€¼ã€‚")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("_exists_:title\n\n")])])]),t("p",[a._v("2ï¼‰é€šé…ç¬¦------é€šé…ç¬¦æœç´¢ä½¿ç”¨? ä»£æ›¿å•ä¸ªå­—ç¬¦ï¼Œä½¿ç”¨*ä»£æ›¿é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("qu?ck bro*\n\n")])])]),t("p",[a._v("3ï¼‰æ­£åˆ™è¡¨è¾¾å¼------é€šè¿‡ä½¿ç”¨æ–œçº¿ï¼ˆ/ï¼‰åŒ…å›´ï¼Œæ­£åˆ™è¡¨è¾¾å¼å¯ä»¥æ¤å…¥åˆ°æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­ã€‚")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("name:/joh?n(ath[oa]n)/\n\n")])])]),t("p",[a._v("4ï¼‰æ¨¡ç³ŠåŒ–ã€‚")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("quikc~1\n\n")])])]),t("p",[a._v("5ï¼‰é‚»è¿‘æœç´¢------å¯ä»¥æŒ‡å®šçŸ­è¯­ä¸­å•è¯çš„æœ€å¤§ç¼–è¾‘è·ç¦»ã€‚")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('"fox quick"~5\n\n')])])]),t("p",[a._v('å­—æ®µä¸­çš„æ–‡æœ¬è¶Šæ¥è¿‘äºæŸ¥è¯¢å­—ç¬¦ä¸²çš„é¡ºåºï¼Œæ–‡æ¡£çš„ç›¸å…³æ€§è¶Šé«˜ã€‚çŸ­è¯­"quick fox"çš„ç›¸å…³æ€§é«˜äº"quick brown fox"ã€‚')]),a._v(" "),t("p",[a._v("6ï¼‰èŒƒå›´------å¯ä»¥æŒ‡å®šæ—¥æœŸã€æ•°å­—æˆ–å­—ç¬¦ä¸²å­—æ®µçš„èŒƒå›´ã€‚åŒ…å«çš„èŒƒå›´ç”¨æ–¹æ‹¬å·æŒ‡å®š[min TO max]ï¼Œä¸åŒ…å«çš„èŒƒå›´ç”¨èŠ±æ‹¬å·æŒ‡å®š{min TO max}ã€‚")]),a._v(" "),t("p",[a._v("-2016å¹´çš„æ‰€æœ‰æ—¥æœŸ")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("date:[2016-01-01 TO 2016-12-31]\n\n")])])]),t("p",[a._v("-æ•°å­—1åˆ°5")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("count:[1 TO 5]\n\n")])])]),t("p",[a._v("-alphaå’Œomegaä¹‹é—´çš„æ ‡ç­¾ï¼Œä¸åŒ…æ‹¬alphaå’Œomega")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("tag:{alpha TO omega}\n")])])]),t("p",[a._v("-å¤§äºç­‰äº10çš„æ•°")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("count:[10 TO *]\n\n")])])]),t("p",[a._v("-2016å¹´ä¹‹å‰çš„æ—¥æœŸ")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("date:{* TO 2016-01-01}\n")])])]),t("p",[a._v("-å¤§äºç­‰äº1å°äº5çš„æ•°")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("count:[1 TO 5}\n")])])]),t("p",[a._v("-ä¸€è¾¹å€¼ä¸ºæ— é™")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("age:>10\nage:>=10\nage:<10\nage:<=10\n\n")])])]),t("p",[a._v("7ï¼‰å¢æƒã€‚")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('quick^2 fox\n"john smith"^2\n(foo bar)^4\n\n')])])]),t("p",[a._v("8ï¼‰å¸ƒå°”æ“ä½œç¬¦ã€‚")]),a._v(" "),t("p",[a._v("+å¿…é¡»åŒ…å«ã€‚")]),a._v(" "),t("p",[a._v("-å¿…é¡»ä¸åŒ…å«ã€‚")]),a._v(" "),t("p",[a._v("æ”¯æŒANDã€ORå’ŒNOTï¼ˆä¹Ÿå¯ä»¥å†™ä½œ&&ã€||å’Œ!ï¼‰æ“ä½œç¬¦ã€‚")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("((quick AND fox) OR (brown AND fox) OR fox) AND NOT news\n\n")])])]),t("p",[a._v("ç­‰åŒäºï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "bool": {\n    "must": { "match": "fox"},\n    "should": { "match": "quick brown" },\n    "must_not": { "match": "news"}\n  }\n}\n')])])]),t("p",[a._v("9ï¼‰åˆ†ç»„------å¤šå­—æ®µæˆ–å­å¥å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·è¿›è¡Œåˆ†ç»„ã€‚")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("status:(active OR pending) title:(full text search)^2\n\n")])])]),t("p",[a._v("10ï¼‰ä¿ç•™å­—ç¬¦------æŸ¥è¯¢ä¸­å‡ºç°ä¿ç•™å­—ç¬¦çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œè½¬ä¹‰ã€‚")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("\\(1\\+1\\)\\=2\n\n")])])]),t("p",[a._v('ä¿ç•™å­—ç¬¦æœ‰ï¼š+-=&&||><!(){}[]^"~*?ğŸ˜•')]),a._v(" "),t("p",[a._v("11ï¼‰ç©ºæŸ¥è¯¢------å¦‚æœæŸ¥è¯¢å­—ç¬¦ä¸²æ˜¯ç©ºçš„æˆ–è€…ä»…åŒ…å«ç©ºæ ¼ï¼ŒæŸ¥è¯¢ä¼šç”Ÿæˆä¸€ä¸ªç©ºç»“æœé›†ã€‚")]),a._v(" "),t("ol",{attrs:{start:"6"}},[t("li",[a._v("ç®€åŒ–æŸ¥è¯¢")])]),a._v(" "),t("p",[a._v("ç³»ç»Ÿæä¾›äº†ç®€åŒ–è¯­æ³•æ¥è¿›è¡ŒæŸ¥è¯¢ã€‚ä¸åƒæ™®é€šçš„Luceneè¯­æ³•æŸ¥è¯¢ï¼Œç®€åŒ–æŸ¥è¯¢ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œä¸”ä¼šä¸¢å¼ƒæŸ¥è¯¢æ— æ•ˆéƒ¨åˆ†ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "simple_query_string" : {\n    "query": "\\"fried eggs\\" +(eggplant | potato) -frittata",\n    "analyzer": "snowball",\n    "fields": ["body^5","_all"],\n    "default_operator": "and"\n  }\n}\n')])])]),t("p",[a._v("ç®€åŒ–æŸ¥è¯¢å¯ä»¥æ¥å—å‚æ•°è§è¡¨4-4ã€‚")]),a._v(" "),t("p",[a._v("è¡¨4-4ã€€ç®€åŒ–æŸ¥è¯¢å‚æ•°")]),a._v(" "),t("p",[t("img",{attrs:{src:"http://reader.epubee.com/books/mobile/f8/f8fc674e229abfd9abb3cc5ba2ec41de/Image00045.jpg",alt:""}})]),a._v(" "),t("p",[a._v("ï¼ˆ1ï¼‰è¯­æ³•")]),a._v(" "),t("p",[a._v("ç®€å•æŸ¥è¯¢å­—ç¬¦ä¸²æ”¯æŒçš„ç‰¹æ®Šå­—ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š")]),a._v(" "),t("p",[a._v("+ã€€è¡¨ç¤ºANDè¿ç®—ç¬¦ã€‚")]),a._v(" "),t("p",[a._v("|ã€€è¡¨ç¤ºORè¿ç®—ç¬¦ã€‚")]),a._v(" "),t("p",[a._v("--ã€€æ’é™¤ä¸€ä¸ªè¯å…ƒã€‚")]),a._v(" "),t("p",[a._v('"ã€€åŒ…å«ä¸€æ‰¹è¯å…ƒæ¥æŒ‡å®šæœç´¢çŸ­è¯­ã€‚')]),a._v(" "),t("p",[a._v("*ã€€åœ¨ç´¢å¼•è¯ç»“å°¾è¡¨ç¤ºå‰ç¼€æŸ¥è¯¢ã€‚")]),a._v(" "),t("p",[a._v("ï¼ˆå’Œï¼‰ã€€è¡¨ç¤ºä¼˜å…ˆã€‚")]),a._v(" "),t("p",[a._v("~Nã€€åœ¨å•è¯çš„åé¢ï¼Œè¡¨ç¤ºç¼–è¾‘è·ç¦»ï¼ˆæ¨¡ç³Šæ€§ï¼‰ã€‚")]),a._v(" "),t("p",[a._v("~Nã€€åœ¨çŸ­è¯­çš„åé¢ï¼Œè¡¨ç¤ºæº¢å‡ºé‡ã€‚")]),a._v(" "),t("p",[a._v("ä¸ºäº†æœç´¢ä»»ä½•è¿™äº›ç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦ä½¿ç”¨æ–œçº¿ï¼ˆ\\ï¼‰ã€‚")]),a._v(" "),t("p",[a._v("ï¼ˆ2ï¼‰é»˜è®¤å­—æ®µ")]),a._v(" "),t("p",[a._v("å½“åœ¨æœç´¢å­—ç¬¦ä¸²è¯­æ³•ä¸­æ²¡æœ‰æ˜ç¡®æŒ‡å‡ºéœ€è¦æœç´¢çš„å­—æ®µæ—¶ï¼Œindex.query.default_fieldä¼šç”¨æ¥æå–è¦æœç´¢çš„å­—æ®µã€‚é»˜è®¤ä¸º_allå­—æ®µã€‚")]),a._v(" "),t("p",[a._v("ï¼ˆ3ï¼‰å¤šå­—æ®µ")]),a._v(" "),t("p",[a._v("å­—æ®µå‚æ•°ä¹Ÿå¯ä»¥åŒ…æ‹¬åŸºäºæ¨¡å¼çš„å­—æ®µåï¼Œå¯ä»¥è‡ªåŠ¨æ‰©å±•ç›¸å…³å­—æ®µï¼ˆåŠ¨æ€å¼•å…¥åŒ…å«çš„å­—æ®µï¼‰ã€‚ä¾‹å¦‚ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "simple_query_string" : {"fields" : ["content", "name.*^5"],\n  "query" : "foo bar baz"}\n}\n')])])]),t("p",[a._v("ï¼ˆ4ï¼‰æ ‡è®°")]),a._v(" "),t("p",[a._v("ç®€å•æŸ¥è¯¢å­—ç¬¦ä¸²æ”¯æŒå¤šä¸ªæ ‡è®°æ¥æŒ‡å®šéœ€è¦å¯ç”¨çš„è§£æåŠŸèƒ½ã€‚åœ¨flagså‚æ•°ä¸­æŒ‡å®šä¸ºä¸€ä¸ªç”¨|åˆ†éš”çš„å­—ç¬¦ä¸²ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n  "simple_query_string" : {"query" : "foo | bar + baz*",\n    "flags" : "OR|AND|PREFIX"}\n}\n')])])]),t("p",[a._v("å¯ç”¨çš„æ ‡è®°æœ‰ï¼šALLã€NONEã€ANDã€ORã€NOTã€PREFIXã€PHRASEã€PRECEDENCEã€ESCAPEã€WHITESPACEã€FUZZYã€NEARå’ŒSLOPã€‚")])])}),[],!1,null,null,null);e.default=n.exports}}]);