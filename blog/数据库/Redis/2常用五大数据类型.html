<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常用五大数据类型 | 一名GO+PHP工程师</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/blog/assets/css/0.styles.b3aba94c.css" as="style"><link rel="preload" href="/blog/assets/js/app.d06cb661.js" as="script"><link rel="preload" href="/blog/assets/js/3.21e2e031.js" as="script"><link rel="preload" href="/blog/assets/js/26.ba71a98d.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.0db5da5f.js"><link rel="prefetch" href="/blog/assets/js/100.0ab1f3ab.js"><link rel="prefetch" href="/blog/assets/js/101.a8ccfd88.js"><link rel="prefetch" href="/blog/assets/js/102.0efc78d7.js"><link rel="prefetch" href="/blog/assets/js/103.adbd37a7.js"><link rel="prefetch" href="/blog/assets/js/104.161b590d.js"><link rel="prefetch" href="/blog/assets/js/105.eaae1ece.js"><link rel="prefetch" href="/blog/assets/js/106.9b961ba0.js"><link rel="prefetch" href="/blog/assets/js/107.df9ba599.js"><link rel="prefetch" href="/blog/assets/js/108.a5880443.js"><link rel="prefetch" href="/blog/assets/js/109.0dca298c.js"><link rel="prefetch" href="/blog/assets/js/11.896719ab.js"><link rel="prefetch" href="/blog/assets/js/110.91c6d5de.js"><link rel="prefetch" href="/blog/assets/js/111.4db6087d.js"><link rel="prefetch" href="/blog/assets/js/112.bb76db96.js"><link rel="prefetch" href="/blog/assets/js/113.9b314292.js"><link rel="prefetch" href="/blog/assets/js/114.b05dc902.js"><link rel="prefetch" href="/blog/assets/js/115.6a21a21a.js"><link rel="prefetch" href="/blog/assets/js/116.1fd8cdf3.js"><link rel="prefetch" href="/blog/assets/js/117.193b54e8.js"><link rel="prefetch" href="/blog/assets/js/118.d91f7ec2.js"><link rel="prefetch" href="/blog/assets/js/119.857d484f.js"><link rel="prefetch" href="/blog/assets/js/12.31b18145.js"><link rel="prefetch" href="/blog/assets/js/120.c2fc1bab.js"><link rel="prefetch" href="/blog/assets/js/121.5bda4d33.js"><link rel="prefetch" href="/blog/assets/js/122.af2613ff.js"><link rel="prefetch" href="/blog/assets/js/123.b7cb0f42.js"><link rel="prefetch" href="/blog/assets/js/124.c284df07.js"><link rel="prefetch" href="/blog/assets/js/125.8bba790f.js"><link rel="prefetch" href="/blog/assets/js/126.93757c80.js"><link rel="prefetch" href="/blog/assets/js/127.7e5150c1.js"><link rel="prefetch" href="/blog/assets/js/128.3498b329.js"><link rel="prefetch" href="/blog/assets/js/129.18a4e993.js"><link rel="prefetch" href="/blog/assets/js/13.b861bbee.js"><link rel="prefetch" href="/blog/assets/js/130.66047656.js"><link rel="prefetch" href="/blog/assets/js/131.0490c1bf.js"><link rel="prefetch" href="/blog/assets/js/132.9fd5bbe5.js"><link rel="prefetch" href="/blog/assets/js/133.d3b9807e.js"><link rel="prefetch" href="/blog/assets/js/134.6a6cf86d.js"><link rel="prefetch" href="/blog/assets/js/135.1132a9d3.js"><link rel="prefetch" href="/blog/assets/js/136.41c7a62b.js"><link rel="prefetch" href="/blog/assets/js/137.50106a44.js"><link rel="prefetch" href="/blog/assets/js/138.87124965.js"><link rel="prefetch" href="/blog/assets/js/139.e5597dd8.js"><link rel="prefetch" href="/blog/assets/js/14.507ab95b.js"><link rel="prefetch" href="/blog/assets/js/140.88de4f35.js"><link rel="prefetch" href="/blog/assets/js/141.85f894e1.js"><link rel="prefetch" href="/blog/assets/js/142.e385a422.js"><link rel="prefetch" href="/blog/assets/js/143.002698c9.js"><link rel="prefetch" href="/blog/assets/js/144.d9a69e4f.js"><link rel="prefetch" href="/blog/assets/js/145.95b58ec4.js"><link rel="prefetch" href="/blog/assets/js/146.0ff38d15.js"><link rel="prefetch" href="/blog/assets/js/147.1aad7186.js"><link rel="prefetch" href="/blog/assets/js/148.f24cd187.js"><link rel="prefetch" href="/blog/assets/js/149.0941e789.js"><link rel="prefetch" href="/blog/assets/js/15.977c5e43.js"><link rel="prefetch" href="/blog/assets/js/150.6514db42.js"><link rel="prefetch" href="/blog/assets/js/151.dcf981a0.js"><link rel="prefetch" href="/blog/assets/js/152.6a733b47.js"><link rel="prefetch" href="/blog/assets/js/153.5c3f3c49.js"><link rel="prefetch" href="/blog/assets/js/154.416cc51a.js"><link rel="prefetch" href="/blog/assets/js/155.ed89ea70.js"><link rel="prefetch" href="/blog/assets/js/156.e514afd4.js"><link rel="prefetch" href="/blog/assets/js/157.c01cdccb.js"><link rel="prefetch" href="/blog/assets/js/158.71dda3a8.js"><link rel="prefetch" href="/blog/assets/js/159.33fa138a.js"><link rel="prefetch" href="/blog/assets/js/16.6fa11a53.js"><link rel="prefetch" href="/blog/assets/js/160.41012461.js"><link rel="prefetch" href="/blog/assets/js/161.70993729.js"><link rel="prefetch" href="/blog/assets/js/162.a36e72f7.js"><link rel="prefetch" href="/blog/assets/js/163.35e7409e.js"><link rel="prefetch" href="/blog/assets/js/164.14f9bf58.js"><link rel="prefetch" href="/blog/assets/js/165.d4170a5d.js"><link rel="prefetch" href="/blog/assets/js/166.8eb8df1e.js"><link rel="prefetch" href="/blog/assets/js/167.b4296d08.js"><link rel="prefetch" href="/blog/assets/js/168.03f7c431.js"><link rel="prefetch" href="/blog/assets/js/169.2b833606.js"><link rel="prefetch" href="/blog/assets/js/17.02da0577.js"><link rel="prefetch" href="/blog/assets/js/170.b4639eea.js"><link rel="prefetch" href="/blog/assets/js/171.58868926.js"><link rel="prefetch" href="/blog/assets/js/172.253bc96e.js"><link rel="prefetch" href="/blog/assets/js/173.3ad021fe.js"><link rel="prefetch" href="/blog/assets/js/174.849bcbbd.js"><link rel="prefetch" href="/blog/assets/js/175.29aea4e3.js"><link rel="prefetch" href="/blog/assets/js/176.6e26a58e.js"><link rel="prefetch" href="/blog/assets/js/177.fb85b7c2.js"><link rel="prefetch" href="/blog/assets/js/178.7f4bf5e6.js"><link rel="prefetch" href="/blog/assets/js/18.c814f6a6.js"><link rel="prefetch" href="/blog/assets/js/19.931178d2.js"><link rel="prefetch" href="/blog/assets/js/2.aec18661.js"><link rel="prefetch" href="/blog/assets/js/20.94381428.js"><link rel="prefetch" href="/blog/assets/js/21.27a6dcf4.js"><link rel="prefetch" href="/blog/assets/js/22.d9c7ba8d.js"><link rel="prefetch" href="/blog/assets/js/23.00b0c454.js"><link rel="prefetch" href="/blog/assets/js/24.5f5891aa.js"><link rel="prefetch" href="/blog/assets/js/25.87af5ecb.js"><link rel="prefetch" href="/blog/assets/js/27.3b1f36b4.js"><link rel="prefetch" href="/blog/assets/js/28.26227207.js"><link rel="prefetch" href="/blog/assets/js/29.98c46495.js"><link rel="prefetch" href="/blog/assets/js/30.47d3f732.js"><link rel="prefetch" href="/blog/assets/js/31.c8b903eb.js"><link rel="prefetch" href="/blog/assets/js/32.763b7b98.js"><link rel="prefetch" href="/blog/assets/js/33.a689a6fc.js"><link rel="prefetch" href="/blog/assets/js/34.1089c1c5.js"><link rel="prefetch" href="/blog/assets/js/35.86d13f87.js"><link rel="prefetch" href="/blog/assets/js/36.77d3c045.js"><link rel="prefetch" href="/blog/assets/js/37.6c8b6e4d.js"><link rel="prefetch" href="/blog/assets/js/38.434945a5.js"><link rel="prefetch" href="/blog/assets/js/39.0324fbbf.js"><link rel="prefetch" href="/blog/assets/js/4.3e9c545c.js"><link rel="prefetch" href="/blog/assets/js/40.f3ba0aed.js"><link rel="prefetch" href="/blog/assets/js/41.27044d8f.js"><link rel="prefetch" href="/blog/assets/js/42.1fd5a43b.js"><link rel="prefetch" href="/blog/assets/js/43.451622f4.js"><link rel="prefetch" href="/blog/assets/js/44.5b40696f.js"><link rel="prefetch" href="/blog/assets/js/45.3dcc7c91.js"><link rel="prefetch" href="/blog/assets/js/46.0bd04509.js"><link rel="prefetch" href="/blog/assets/js/47.59ab9778.js"><link rel="prefetch" href="/blog/assets/js/48.e3917371.js"><link rel="prefetch" href="/blog/assets/js/49.cffe09bd.js"><link rel="prefetch" href="/blog/assets/js/5.548a74f6.js"><link rel="prefetch" href="/blog/assets/js/50.10849ea7.js"><link rel="prefetch" href="/blog/assets/js/51.29fb5c68.js"><link rel="prefetch" href="/blog/assets/js/52.d2042f8d.js"><link rel="prefetch" href="/blog/assets/js/53.8a5c3d60.js"><link rel="prefetch" href="/blog/assets/js/54.0f846846.js"><link rel="prefetch" href="/blog/assets/js/55.f1fdd6ae.js"><link rel="prefetch" href="/blog/assets/js/56.c2bf89f1.js"><link rel="prefetch" href="/blog/assets/js/57.93329ad3.js"><link rel="prefetch" href="/blog/assets/js/58.ddd651ef.js"><link rel="prefetch" href="/blog/assets/js/59.ad2296e2.js"><link rel="prefetch" href="/blog/assets/js/6.c31c16f8.js"><link rel="prefetch" href="/blog/assets/js/60.92d4a127.js"><link rel="prefetch" href="/blog/assets/js/61.2fe87550.js"><link rel="prefetch" href="/blog/assets/js/62.24bf6999.js"><link rel="prefetch" href="/blog/assets/js/63.2f87f55d.js"><link rel="prefetch" href="/blog/assets/js/64.68cd3b45.js"><link rel="prefetch" href="/blog/assets/js/65.b2920db4.js"><link rel="prefetch" href="/blog/assets/js/66.18d74400.js"><link rel="prefetch" href="/blog/assets/js/67.ac26e1fe.js"><link rel="prefetch" href="/blog/assets/js/68.b6f86cb6.js"><link rel="prefetch" href="/blog/assets/js/69.134a204b.js"><link rel="prefetch" href="/blog/assets/js/7.9e783835.js"><link rel="prefetch" href="/blog/assets/js/70.d56e0998.js"><link rel="prefetch" href="/blog/assets/js/71.e8314430.js"><link rel="prefetch" href="/blog/assets/js/72.78fc6941.js"><link rel="prefetch" href="/blog/assets/js/73.2bacb1ea.js"><link rel="prefetch" href="/blog/assets/js/74.3c8755ec.js"><link rel="prefetch" href="/blog/assets/js/75.36ca899a.js"><link rel="prefetch" href="/blog/assets/js/76.a0981293.js"><link rel="prefetch" href="/blog/assets/js/77.de031445.js"><link rel="prefetch" href="/blog/assets/js/78.b41b3078.js"><link rel="prefetch" href="/blog/assets/js/79.f314f893.js"><link rel="prefetch" href="/blog/assets/js/8.5c76926d.js"><link rel="prefetch" href="/blog/assets/js/80.389c0b37.js"><link rel="prefetch" href="/blog/assets/js/81.04f50a1e.js"><link rel="prefetch" href="/blog/assets/js/82.db879ca5.js"><link rel="prefetch" href="/blog/assets/js/83.e89b8863.js"><link rel="prefetch" href="/blog/assets/js/84.07410b58.js"><link rel="prefetch" href="/blog/assets/js/85.d3e35fad.js"><link rel="prefetch" href="/blog/assets/js/86.52351591.js"><link rel="prefetch" href="/blog/assets/js/87.c4ebf9a8.js"><link rel="prefetch" href="/blog/assets/js/88.09fc332a.js"><link rel="prefetch" href="/blog/assets/js/89.8b302469.js"><link rel="prefetch" href="/blog/assets/js/9.a64cd1e6.js"><link rel="prefetch" href="/blog/assets/js/90.391f76ed.js"><link rel="prefetch" href="/blog/assets/js/91.d1662d38.js"><link rel="prefetch" href="/blog/assets/js/92.a65aa479.js"><link rel="prefetch" href="/blog/assets/js/93.bc850b53.js"><link rel="prefetch" href="/blog/assets/js/94.7dc858d7.js"><link rel="prefetch" href="/blog/assets/js/95.6755e920.js"><link rel="prefetch" href="/blog/assets/js/96.7e3abf55.js"><link rel="prefetch" href="/blog/assets/js/97.16a7a60a.js"><link rel="prefetch" href="/blog/assets/js/98.a84fee2e.js"><link rel="prefetch" href="/blog/assets/js/99.c4b1cfd7.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b3aba94c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">一名GO+PHP工程师</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://gitee.com/ColinWWL/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://gitee.com/ColinWWL/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blog/数据库/Redis/1安装" class="sidebar-heading clickable open"><span>Redis</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/数据库/Redis/1安装.html" class="sidebar-link">安装</a></li><li><a href="/blog/数据库/Redis/2常用五大数据类型.html" class="active sidebar-link">常用五大数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/数据库/Redis/2常用五大数据类型.html#redis键-key" class="sidebar-link">Redis键(key)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/数据库/Redis/2常用五大数据类型.html#redis字符串-string" class="sidebar-link">Redis字符串(String)</a></li><li class="sidebar-sub-header"><a href="/blog/数据库/Redis/2常用五大数据类型.html#redis列表-list" class="sidebar-link">Redis列表(List)</a></li><li class="sidebar-sub-header"><a href="/blog/数据库/Redis/2常用五大数据类型.html#redis集合-set" class="sidebar-link">Redis集合(Set)</a></li><li class="sidebar-sub-header"><a href="/blog/数据库/Redis/2常用五大数据类型.html#redis哈希-hash" class="sidebar-link">Redis哈希(Hash)</a></li><li class="sidebar-sub-header"><a href="/blog/数据库/Redis/2常用五大数据类型.html#redis有序集合zset-sorted-set" class="sidebar-link">Redis有序集合Zset(sorted set)</a></li></ul></li></ul></li><li><a href="/blog/数据库/Redis/3配置文件介绍.html" class="sidebar-link">配置文件介绍</a></li><li><a href="/blog/数据库/Redis/4发布和订阅.html" class="sidebar-link">发布和订阅</a></li><li><a href="/blog/数据库/Redis/5新数据类型.html" class="sidebar-link">新数据类型</a></li><li><a href="/blog/数据库/Redis/9事务_锁机制_秒杀.html" class="sidebar-link">事务锁机制秒杀</a></li><li><a href="/blog/数据库/Redis/10事务_秒杀案例.html" class="sidebar-link">事务_秒杀案例</a></li><li><a href="/blog/数据库/Redis/11持久化之RDB.html" class="sidebar-link">持久化之RDB</a></li><li><a href="/blog/数据库/Redis/12持久化之AOF.html" class="sidebar-link">持久化之AOF</a></li><li><a href="/blog/数据库/Redis/13主从复制.html" class="sidebar-link">主从复制</a></li><li><a href="/blog/数据库/Redis/14集群.html" class="sidebar-link">集群</a></li><li><a href="/blog/数据库/Redis/15应用问题解决.html" class="sidebar-link">Redis应用问题解决</a></li><li><a href="/blog/数据库/Redis/16Redis6新功能.html" class="sidebar-link">Redis6.0新功能</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/数据库/Redis/其他文章/Redis性能模拟测试" class="sidebar-heading clickable"><span>其他文章</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/数据库/Redis/其他文章/Redis性能模拟测试.html" class="sidebar-link">Redis有多快?</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="常用五大数据类型"><a href="#常用五大数据类型" class="header-anchor">#</a> 常用五大数据类型</h1> <p>哪里去获得redis常见数据类型操作命令http://www.redis.cn/commands.html</p> <h2 id="redis键-key"><a href="#redis键-key" class="header-anchor">#</a> Redis键(key)</h2> <p>keys *查看当前库所有key (匹配：keys *1)</p> <p>exists key判断某个key是否存在</p> <p>type key 查看你的key是什么类型</p> <p>del key    删除指定的key数据</p> <p>unlink key  根据value选择非阻塞删除</p> <p>仅将keys从keyspace元数据中删除，真正的删除会在后续异步操作。</p> <p>expire key 10  10秒钟：为给定的key设置过期时间</p> <p>ttl key 查看还有多少秒过期，-1表示永不过期，-2表示已过期</p> <p>select命令切换数据库</p> <p>dbsize查看当前数据库的key的数量</p> <p>flushdb清空当前库</p> <p>flushall通杀全部库</p> <h3 id="redis字符串-string"><a href="#redis字符串-string" class="header-anchor">#</a> Redis字符串(String)</h3> <h4 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h4> <p>String是Redis最基本的类型，你可以理解成与Memcached一模一样的类型，一个key对应一个value。</p> <p>String类型是二进制安全的。意味着Redis的string可以包含任何数据。比如jpg图片或者序列化的对象。</p> <p>String类型是Redis最基本的数据类型，一个Redis中字符串value最多可以是512M</p> <h4 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h4> <p>set  &lt;key&gt;&lt;value&gt;添加键值对</p> <p><img src="/blog/assets/img/2021-05-14-23-05-32.04c59c00.png" alt=""></p> <p>*NX：当数据库中key不存在时，可以将key-value添加数据库</p> <p>*XX：当数据库中key存在时，可以将key-value添加数据库，与NX参数互斥</p> <p>*EX：key的超时秒数</p> <p>*PX：key的超时毫秒数，与EX互斥</p> <p>get  &lt;key&gt;查询对应键值</p> <p>append  &lt;key&gt;&lt;value&gt;将给定的&lt;value&gt; 追加到原值的末尾</p> <p>strlen  &lt;key&gt;获得值的长度</p> <p>setnx  &lt;key&gt;&lt;value&gt;只有在 key 不存在时   设置 key 的值</p> <p>incr  &lt;key&gt;</p> <p>将 key 中储存的数字值增1</p> <p>只能对数字值操作，如果为空，新增值为1</p> <p>decr  &lt;key&gt;</p> <p>将 key 中储存的数字值减1</p> <p>只能对数字值操作，如果为空，新增值为-1</p> <p>incrby / decrby  &lt;key&gt;&lt;步长&gt;将 key 中储存的数字值增减。自定义步长。</p> <p>原子性!</p> <p><img src="/blog/assets/img/2021-05-14-22-54-50.5b16863b.png" alt=""></p> <p>所谓<strong>原子</strong>操作是指不会被线程调度机制打断的操作；</p> <p>这种操作一旦开始，就一直运行到结束，中间不会有任何 context switch （切换到另一个线程）。</p> <p>（1）在单线程中， 能够在单条指令中完成的操作都可以认为是&quot;原子操作&quot;，因为中断只能发生于指令之间。</p> <p>（2）在多线程中，不能被其它进程（线程）打断的操作就叫原子操作。</p> <p>Redis单命令的原子性主要得益于Redis的单线程。</p> <p><strong>案例：</strong></p> <p>java中的i++是否是原子操作？<strong>不是</strong></p> <p>i=0;两个线程分别对i进行++100次,值是多少？<strong>2</strong></p> <p><img src="data:image/png;base64,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" alt=""><br> <img src="data:image/png;base64,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" alt=""></p> <p>mset  &lt;key1&gt;&lt;value1&gt;&lt;key2&gt;&lt;value2&gt;  .....</p> <p>同时设置一个或多个 key-value对</p> <p>mget  &lt;key1&gt;&lt;key2&gt;&lt;key3&gt; .....</p> <p>同时获取一个或多个 value</p> <p>msetnx &lt;key1&gt;&lt;value1&gt;&lt;key2&gt;&lt;value2&gt;  .....</p> <p>同时设置一个或多个 key-value 对，当且仅当所有给定 key 都不存在。</p> <p><strong>原子性，有一个失败则都失败</strong></p> <p>getrange  &lt;key&gt;&lt;起始位置&gt;&lt;结束位置&gt;</p> <p>获得值的范围，类似java中的substring，<strong>前包，后包</strong></p> <p>setrange  &lt;key&gt;&lt;起始位置&gt;&lt;value&gt;</p> <p>用 &lt;value&gt;  覆写&lt;key&gt;所储存的字符串值，从&lt;起始位置&gt;开始(<strong>索引从0开始</strong>)。</p> <p><strong>setex  &lt;key&gt;&lt;过期时间*</strong>**<strong>*&gt;&lt;value&gt;</strong></p> <p>设置键值的同时，设置过期时间，单位秒。</p> <p>getset &lt;key&gt;&lt;value&gt;</p> <p>以新换旧，设置了新值同时获得旧值。</p> <h4 id="数据结构"><a href="#数据结构" class="header-anchor">#</a> 数据结构</h4> <p>String的数据结构为简单动态字符串(Simple Dynamic String,缩写SDS)。是可以修改的字符串，内部结构实现上类似于Java的ArrayList，采用预分配冗余空间的方式来减少内存的频繁分配.</p> <p><img src="/blog/assets/img/2021-05-14-23-22-58.40cbc48e.png" alt=""></p> <p>如图中所示，内部为当前字符串实际分配的空间capacity一般要高于实际字符串长度len。当字符串长度小于1M时，扩容都是加倍现有的空间，如果超过1M，扩容时一次只会多扩1M的空间。需要注意的是字符串最大长度为512M。</p> <h3 id="redis列表-list"><a href="#redis列表-list" class="header-anchor">#</a> Redis列表(List)</h3> <h4 id="简介-2"><a href="#简介-2" class="header-anchor">#</a> 简介</h4> <p>单键多值</p> <p>Redis 列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）。</p> <p>它的底层实际是个双向链表，对两端的操作性能很高，通过索引下标的操作中间的节点性能会较差。</p> <p><img src="/blog/assets/img/2021-05-14-23-23-54.8903bd42.png" alt=""></p> <h4 id="常用命令-2"><a href="#常用命令-2" class="header-anchor">#</a> 常用命令</h4> <p>lpush/rpush  &lt;key&gt;&lt;value1&gt;&lt;value2&gt;&lt;value3&gt; .... 从左边/右边插入一个或多个值。</p> <p>lpop/rpop  &lt;key&gt;从左边/右边吐出一个值。值在键在，值光键亡。</p> <p>rpoplpush  &lt;key1&gt;&lt;key2&gt;从&lt;key1&gt;列表右边吐出一个值，插到&lt;key2&gt;列表左边。</p> <p>lrange &lt;key&gt;&lt;start&gt;&lt;stop&gt;</p> <p>按照索引下标获得元素(从左到右)</p> <p>lrange mylist 0 -1  0左边第一个，-1右边第一个，（0-1表示获取所有）</p> <p>lindex &lt;key&gt;&lt;index&gt;按照索引下标获得元素(从左到右)</p> <p>llen &lt;key&gt;获得列表长度</p> <p>linsert &lt;key&gt;  before &lt;value&gt;&lt;newvalue&gt;在&lt;value&gt;的后面插入&lt;newvalue&gt;插入值</p> <p>lrem &lt;key&gt;&lt;n&gt;&lt;value&gt;从左边删除n个value(从左到右)</p> <p>lset&lt;key&gt;&lt;index&gt;&lt;value&gt;将列表key下标为index的值替换成value</p> <h4 id="数据结构-2"><a href="#数据结构-2" class="header-anchor">#</a> 数据结构</h4> <p>List的数据结构为快速链表quickList。</p> <p>首先在列表元素较少的情况下会使用一块连续的内存存储，这个结构是ziplist，也即是压缩列表。</p> <p>它将所有的元素紧挨着一起存储，分配的是一块连续的内存。</p> <p>当数据量比较多的时候才会改成quicklist。</p> <p>因为普通的链表需要的附加指针空间太大，会比较浪费空间。比如这个列表里存的只是int类型的数据，结构上还需要两个额外的指针prev和next。</p> <p><img src="/blog/assets/img/2021-05-14-23-24-54.7423e250.png" alt=""></p> <p>Redis将链表和ziplist结合起来组成了quicklist。也就是将多个ziplist使用双向指针串起来使用。这样既满足了快速的插入删除性能，又不会出现太大的空间冗余。</p> <h3 id="redis集合-set"><a href="#redis集合-set" class="header-anchor">#</a> Redis集合(Set)</h3> <h4 id="简介-3"><a href="#简介-3" class="header-anchor">#</a> 简介</h4> <p>Redis set对外提供的功能与list类似是一个列表的功能，特殊之处在于set是可以<strong>自动排重</strong>的，当你需要存储一个列表数据，又不希望出现重复数据时，set是一个很好的选择，并且set提供了判断某个成员是否在一个set集合内的重要接口，这个也是list所不能提供的。</p> <p>Redis的Set是string类型的无序集合。它底层其实是一个value为null的hash表，所以添加，删除，查找的<strong>复杂度都是O(1)</strong>。</p> <p>一个算法，随着数据的增加，执行时间的长短，如果是O(1)，数据增加，查找数据的时间不变</p> <h4 id="常用命令-3"><a href="#常用命令-3" class="header-anchor">#</a> 常用命令</h4> <p>sadd &lt;key&gt;&lt;value1&gt;&lt;value2&gt; .....</p> <p>将一个或多个 member 元素加入到集合 key 中，已经存在的 member 元素将被忽略</p> <p>smembers &lt;key&gt;取出该集合的所有值。</p> <p>sismember &lt;key&gt;&lt;value&gt;判断集合&lt;key&gt;是否为含有该&lt;value&gt;值，有1，没有0</p> <p>scard&lt;key&gt;返回该集合的元素个数。</p> <p>srem &lt;key&gt;&lt;value1&gt;&lt;value2&gt; .... 删除集合中的某个元素。</p> <p>spop &lt;key&gt;****随机从该集合中吐出一个值。****</p> <p>srandmember &lt;key&gt;&lt;n&gt;随机从该集合中取出n个值。不会从集合中删除 。</p> <p>smove &lt;source&gt;&lt;destination&gt;value把集合中一个值从一个集合移动到另一个集合</p> <p>sinter &lt;key1&gt;&lt;key2&gt;返回两个集合的交集元素。</p> <p>sunion &lt;key1&gt;&lt;key2&gt;返回两个集合的并集元素。</p> <p>sdiff &lt;key1&gt;&lt;key2&gt;返回两个集合的****差集****元素(key1中的，不包含key2中的)</p> <h4 id="数据结构-3"><a href="#数据结构-3" class="header-anchor">#</a> 数据结构</h4> <p>Set数据结构是dict字典，字典是用哈希表实现的。</p> <p>Java中HashSet的内部实现使用的是HashMap，只不过所有的value都指向同一个对象。Redis的set结构也是一样，它的内部也使用hash结构，所有的value都指向同一个内部值。</p> <h3 id="redis哈希-hash"><a href="#redis哈希-hash" class="header-anchor">#</a> Redis哈希(Hash)</h3> <h4 id="简介-4"><a href="#简介-4" class="header-anchor">#</a> 简介</h4> <p>Redis hash 是一个键值对集合。</p> <p>Redis hash是一个string类型的field和value的映射表，hash特别适合用于存储对象。</p> <p>类似Java里面的Map&lt;String,Object&gt;</p> <p>用户ID为查找的key，存储的value用户对象包含姓名，年龄，生日等信息，如果用普通的key/value结构来存储</p> <p>主要有以下2种存储方式：</p> <table><thead><tr><th><img src="/blog/assets/img/2021-05-14-23-27-28.ff1a572f.png" alt=""> 每次修改用户的某个属性需要，先反序列化改好后再序列化回去。开销较大。</th> <th><img src="/blog/assets/img/2021-05-14-23-27-36.8182101c.png" alt=""> 用户ID数据冗余</th></tr></thead> <tbody></tbody></table> <p><img src="/blog/assets/img/2021-05-14-23-27-49.0f0edebf.png" alt=""></p> <p>通过 key(用户ID) + field(属性标签) 就可以操作对应属性数据了，既不需要重复存储数据，也不会带来序列化和并发修改控制的问题</p> <h4 id="常用命令-4"><a href="#常用命令-4" class="header-anchor">#</a> 常用命令</h4> <p>hset &lt;key&gt;&lt;field&gt;&lt;value&gt;给&lt;key&gt;集合中的  &lt;field&gt;键赋值&lt;value&gt;</p> <p>hget &lt;key1&gt;&lt;field&gt;从&lt;key1&gt;集合&lt;field&gt;取出 value</p> <p>hmset &lt;key1&gt;&lt;field1&gt;&lt;value1&gt;&lt;field2&gt;&lt;value2&gt;... 批量设置hash的值</p> <p>hexists&lt;key1&gt;&lt;field&gt;查看哈希表 key 中，给定域 field 是否存在。</p> <p>hkeys &lt;key&gt;列出该hash集合的所有field</p> <p>hvals &lt;key&gt;列出该hash集合的所有value</p> <p>hincrby &lt;key&gt;&lt;field&gt;&lt;increment&gt;为哈希表 key 中的域 field 的值加上增量 1  -1</p> <p>hsetnx &lt;key&gt;&lt;field&gt;&lt;value&gt;将哈希表 key 中的域 field 的值设置为 value ，当且仅当域 field 不存在 .</p> <h4 id="数据结构-4"><a href="#数据结构-4" class="header-anchor">#</a> 数据结构</h4> <p>Hash类型对应的数据结构是两种：ziplist（压缩列表），hashtable（哈希表）。当field-value长度较短且个数较少时，使用ziplist，否则使用hashtable。</p> <h3 id="redis有序集合zset-sorted-set"><a href="#redis有序集合zset-sorted-set" class="header-anchor">#</a> Redis有序集合Zset(sorted set)</h3> <h4 id="简介-5"><a href="#简介-5" class="header-anchor">#</a> 简介</h4> <p>Redis有序集合zset与普通集合set非常相似，是一个没有重复元素的字符串集合。</p> <p>不同之处是有序集合的每个成员都关联了一个<strong>评分（score）</strong>,这个评分（score）被用来按照从最低分到最高分的方式排序集合中的成员。集合的成员是唯一的，但是评分可以是重复了 。</p> <p>因为元素是有序的, 所以你也可以很快的根据评分（score）或者次序（position）来获取一个范围的元素。</p> <p>访问有序集合的中间元素也是非常快的,因此你能够使用有序集合作为一个没有重复成员的智能列表。</p> <h4 id="常用命令-5"><a href="#常用命令-5" class="header-anchor">#</a> 常用命令</h4> <div class="language-sh extra-class"><pre class="language-sh"><code>zadd  <span class="token punctuation">\</span><span class="token operator">&lt;</span>key<span class="token operator">&gt;</span><span class="token punctuation">\</span><span class="token operator">&lt;</span>score<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token punctuation">\</span><span class="token operator">&lt;</span>value<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token punctuation">\</span><span class="token operator">&lt;</span>score<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token punctuation">\</span><span class="token operator">&lt;</span>value<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token punctuation">..</span>.
</code></pre></div><p>将一个或多个 member 元素及其 score 值加入到有序集 key 当中。</p> <p><strong>zrange &lt;key&gt;&lt;start&gt;&lt;stop&gt;  [WITHSCORES]</strong></p> <p>返回有序集 key 中，下标在&lt;start&gt;&lt;stop&gt;之间的元素</p> <p>带WITHSCORES，可以让分数一起和值返回到结果集。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>zrangebyscore key minmax <span class="token punctuation">[</span>withscores<span class="token punctuation">]</span> <span class="token punctuation">[</span>limit offset count<span class="token punctuation">]</span>
</code></pre></div><p>返回有序集 key 中，所有 score 值介于 min 和 max 之间(包括等于 min 或 max )的成员。有序集成员按 score 值递增(从小到大)次序排列。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>zrevrangebyscore key maxmin <span class="token punctuation">[</span>withscores<span class="token punctuation">]</span> <span class="token punctuation">[</span>limit offset count<span class="token punctuation">]</span> 
</code></pre></div><p>同上，改为从大到小排列。</p> <p>zincrby &lt;key&gt;&lt;increment&gt;&lt;value&gt;      为元素的score加上增量</p> <p>zrem  &lt;key&gt;&lt;value&gt;删除该集合下，指定值的元素</p> <p>zcount &lt;key&gt;&lt;min&gt;&lt;max&gt;统计该集合，分数区间内的元素数</p> <p>zrank &lt;key&gt;&lt;value&gt;返回该值在集合中的排名，从0开始。</p> <p>案例：如何利用zset实现一个文章访问量的排行榜？</p> <p><img src="/blog/assets/img/2021-05-14-23-30-24.a5381394.png" alt=""></p> <h4 id="数据结构-5"><a href="#数据结构-5" class="header-anchor">#</a> 数据结构</h4> <p>SortedSet(zset)是Redis提供的一个非常特别的数据结构，一方面它等价于Java的数据结构Map&lt;String, Double&gt;，可以给每一个元素value赋予一个权重score，另一方面它又类似于TreeSet，内部的元素会按照权重score进行排序，可以得到每个元素的名次，还可以通过score的范围来获取元素的列表。</p> <p>zset底层使用了两个数据结构</p> <ul><li><p>hash，hash的作用就是关联元素value和权重score，保障元素value的唯一性，可以通过元素value找到相应的score值。</p></li> <li><p>跳跃表，跳跃表的目的在于给元素value排序，根据score的范围获取元素列表。</p></li></ul> <h4 id="跳跃表-跳表"><a href="#跳跃表-跳表" class="header-anchor">#</a> 跳跃表（跳表）</h4> <p>1、简介</p> <p>​	有序集合在生活中比较常见，例如根据成绩对学生排名，根据得分对玩家排名等。对于有序集合的底层实现，可以用数组、平衡树、链表等。数组不便元素的插入、删除；平衡树或红黑树虽然效率高但结构复杂；链表查询需要遍历所有效率低。Redis采用的是跳跃表。跳跃表效率堪比红黑树，实现远比红黑树简单。</p> <p>2、实例</p> <p>​	对比有序链表和跳跃表，从链表中查询出51</p> <p>（1） 有序链表</p> <p><img src="/blog/assets/img/2021-05-14-23-53-06.3f0037c7.png" alt=""></p> <p>要查找值为51的元素，需要从第一个元素开始依次查找、比较才能找到。共需要6次比较。</p> <p>（2） 跳跃表</p> <p><img src="/blog/assets/img/2021-05-14-23-53-14.0b3182d6.png" alt=""></p> <p>从第2层开始，1节点比51节点小，向后比较。</p> <p>21节点比51节点小，继续向后比较，后面就是NULL了，所以从21节点向下到第1层</p> <p>在第1层，41节点比51节点小，继续向后，61节点比51节点大，所以从41向下</p> <p>在第0层，51节点为要查找的节点，节点被找到，共查找4次。</p> <p>从此可以看出跳跃表比有序链表效率要高</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">5/21/2021, 1:25:38 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/数据库/Redis/1安装.html" class="prev">
        安装
      </a></span> <span class="next"><a href="/blog/数据库/Redis/3配置文件介绍.html">
        配置文件介绍
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.d06cb661.js" defer></script><script src="/blog/assets/js/3.21e2e031.js" defer></script><script src="/blog/assets/js/26.ba71a98d.js" defer></script>
  </body>
</html>
