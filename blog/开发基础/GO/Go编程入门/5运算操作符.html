<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>运算操作符 | 一名GO+PHP工程师</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/blog/assets/css/0.styles.bef719fb.css" as="style"><link rel="preload" href="/blog/assets/js/app.77332b34.js" as="script"><link rel="preload" href="/blog/assets/js/3.21e2e031.js" as="script"><link rel="preload" href="/blog/assets/js/99.c4b1cfd7.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.6084136f.js"><link rel="prefetch" href="/blog/assets/js/100.d5cb88cb.js"><link rel="prefetch" href="/blog/assets/js/101.6bbce255.js"><link rel="prefetch" href="/blog/assets/js/102.968ea43c.js"><link rel="prefetch" href="/blog/assets/js/103.c5c5130e.js"><link rel="prefetch" href="/blog/assets/js/104.161b590d.js"><link rel="prefetch" href="/blog/assets/js/105.eaae1ece.js"><link rel="prefetch" href="/blog/assets/js/106.9b961ba0.js"><link rel="prefetch" href="/blog/assets/js/107.df9ba599.js"><link rel="prefetch" href="/blog/assets/js/108.1e4967d1.js"><link rel="prefetch" href="/blog/assets/js/109.bab44539.js"><link rel="prefetch" href="/blog/assets/js/11.2e1457a2.js"><link rel="prefetch" href="/blog/assets/js/110.975b5aeb.js"><link rel="prefetch" href="/blog/assets/js/111.4db6087d.js"><link rel="prefetch" href="/blog/assets/js/112.bb76db96.js"><link rel="prefetch" href="/blog/assets/js/113.9b314292.js"><link rel="prefetch" href="/blog/assets/js/114.b05dc902.js"><link rel="prefetch" href="/blog/assets/js/115.6a21a21a.js"><link rel="prefetch" href="/blog/assets/js/116.1fd8cdf3.js"><link rel="prefetch" href="/blog/assets/js/117.193b54e8.js"><link rel="prefetch" href="/blog/assets/js/118.a54057c2.js"><link rel="prefetch" href="/blog/assets/js/119.857d484f.js"><link rel="prefetch" href="/blog/assets/js/12.48cd3c41.js"><link rel="prefetch" href="/blog/assets/js/120.c2fc1bab.js"><link rel="prefetch" href="/blog/assets/js/121.5bda4d33.js"><link rel="prefetch" href="/blog/assets/js/122.8ce24886.js"><link rel="prefetch" href="/blog/assets/js/123.90357e37.js"><link rel="prefetch" href="/blog/assets/js/124.2d89e041.js"><link rel="prefetch" href="/blog/assets/js/125.7be39e4f.js"><link rel="prefetch" href="/blog/assets/js/126.598ad722.js"><link rel="prefetch" href="/blog/assets/js/127.06c981b6.js"><link rel="prefetch" href="/blog/assets/js/128.ebd5e805.js"><link rel="prefetch" href="/blog/assets/js/129.b4fdbe4d.js"><link rel="prefetch" href="/blog/assets/js/13.b814da2c.js"><link rel="prefetch" href="/blog/assets/js/130.50ee8d35.js"><link rel="prefetch" href="/blog/assets/js/131.5f734cd7.js"><link rel="prefetch" href="/blog/assets/js/132.cb85c88a.js"><link rel="prefetch" href="/blog/assets/js/133.581b5e6c.js"><link rel="prefetch" href="/blog/assets/js/134.6a6cf86d.js"><link rel="prefetch" href="/blog/assets/js/135.313b60a3.js"><link rel="prefetch" href="/blog/assets/js/136.41c7a62b.js"><link rel="prefetch" href="/blog/assets/js/137.feeb7b80.js"><link rel="prefetch" href="/blog/assets/js/138.ddd4d1f7.js"><link rel="prefetch" href="/blog/assets/js/139.b13aa419.js"><link rel="prefetch" href="/blog/assets/js/14.d54ba5e3.js"><link rel="prefetch" href="/blog/assets/js/140.c2741475.js"><link rel="prefetch" href="/blog/assets/js/141.85f894e1.js"><link rel="prefetch" href="/blog/assets/js/142.8f3573aa.js"><link rel="prefetch" href="/blog/assets/js/143.e16816e7.js"><link rel="prefetch" href="/blog/assets/js/144.c91db5db.js"><link rel="prefetch" href="/blog/assets/js/145.95b58ec4.js"><link rel="prefetch" href="/blog/assets/js/146.92cd1d56.js"><link rel="prefetch" href="/blog/assets/js/147.1aad7186.js"><link rel="prefetch" href="/blog/assets/js/148.b0a6ba25.js"><link rel="prefetch" href="/blog/assets/js/149.cf51c7a4.js"><link rel="prefetch" href="/blog/assets/js/15.5840ca25.js"><link rel="prefetch" href="/blog/assets/js/150.8961d634.js"><link rel="prefetch" href="/blog/assets/js/151.9b1a9135.js"><link rel="prefetch" href="/blog/assets/js/152.d4fcbdac.js"><link rel="prefetch" href="/blog/assets/js/153.8f0df288.js"><link rel="prefetch" href="/blog/assets/js/154.3108e3fe.js"><link rel="prefetch" href="/blog/assets/js/155.1c76998b.js"><link rel="prefetch" href="/blog/assets/js/156.e514afd4.js"><link rel="prefetch" href="/blog/assets/js/157.d4566baf.js"><link rel="prefetch" href="/blog/assets/js/158.f649eaa4.js"><link rel="prefetch" href="/blog/assets/js/159.bde474db.js"><link rel="prefetch" href="/blog/assets/js/16.5bdde5ee.js"><link rel="prefetch" href="/blog/assets/js/160.567a6feb.js"><link rel="prefetch" href="/blog/assets/js/161.d8d1d0f9.js"><link rel="prefetch" href="/blog/assets/js/162.d7e72e4d.js"><link rel="prefetch" href="/blog/assets/js/163.33c153d8.js"><link rel="prefetch" href="/blog/assets/js/164.80cca623.js"><link rel="prefetch" href="/blog/assets/js/165.1d0cd529.js"><link rel="prefetch" href="/blog/assets/js/166.b73822d1.js"><link rel="prefetch" href="/blog/assets/js/167.1d799555.js"><link rel="prefetch" href="/blog/assets/js/168.281ad92f.js"><link rel="prefetch" href="/blog/assets/js/169.64dd7e3e.js"><link rel="prefetch" href="/blog/assets/js/17.5259d9eb.js"><link rel="prefetch" href="/blog/assets/js/170.e097186e.js"><link rel="prefetch" href="/blog/assets/js/171.ff778380.js"><link rel="prefetch" href="/blog/assets/js/172.6f3b63ce.js"><link rel="prefetch" href="/blog/assets/js/173.fc6d4e6a.js"><link rel="prefetch" href="/blog/assets/js/174.ae15fd8c.js"><link rel="prefetch" href="/blog/assets/js/175.bbae3a5c.js"><link rel="prefetch" href="/blog/assets/js/176.0b0e42b6.js"><link rel="prefetch" href="/blog/assets/js/177.1ff80e7e.js"><link rel="prefetch" href="/blog/assets/js/178.7f4bf5e6.js"><link rel="prefetch" href="/blog/assets/js/18.935f6748.js"><link rel="prefetch" href="/blog/assets/js/19.bee643b6.js"><link rel="prefetch" href="/blog/assets/js/2.97a298f6.js"><link rel="prefetch" href="/blog/assets/js/20.0f6c34c0.js"><link rel="prefetch" href="/blog/assets/js/21.c4b2e86b.js"><link rel="prefetch" href="/blog/assets/js/22.670160bc.js"><link rel="prefetch" href="/blog/assets/js/23.3ea9a5a9.js"><link rel="prefetch" href="/blog/assets/js/24.fded9b7a.js"><link rel="prefetch" href="/blog/assets/js/25.7a8d93d4.js"><link rel="prefetch" href="/blog/assets/js/26.4962fc80.js"><link rel="prefetch" href="/blog/assets/js/27.9f30f2c0.js"><link rel="prefetch" href="/blog/assets/js/28.dad4d7ea.js"><link rel="prefetch" href="/blog/assets/js/29.40a388e9.js"><link rel="prefetch" href="/blog/assets/js/30.09ea8215.js"><link rel="prefetch" href="/blog/assets/js/31.6a746a11.js"><link rel="prefetch" href="/blog/assets/js/32.30794034.js"><link rel="prefetch" href="/blog/assets/js/33.8fe12a68.js"><link rel="prefetch" href="/blog/assets/js/34.6ae8ca61.js"><link rel="prefetch" href="/blog/assets/js/35.770b0123.js"><link rel="prefetch" href="/blog/assets/js/36.aecfaf6e.js"><link rel="prefetch" href="/blog/assets/js/37.9eaa4368.js"><link rel="prefetch" href="/blog/assets/js/38.9037e52f.js"><link rel="prefetch" href="/blog/assets/js/39.bfc61cab.js"><link rel="prefetch" href="/blog/assets/js/4.fc4084f6.js"><link rel="prefetch" href="/blog/assets/js/40.4037bb53.js"><link rel="prefetch" href="/blog/assets/js/41.5b45d852.js"><link rel="prefetch" href="/blog/assets/js/42.eda4343c.js"><link rel="prefetch" href="/blog/assets/js/43.f1402b09.js"><link rel="prefetch" href="/blog/assets/js/44.c8598baf.js"><link rel="prefetch" href="/blog/assets/js/45.394124a5.js"><link rel="prefetch" href="/blog/assets/js/46.d684210c.js"><link rel="prefetch" href="/blog/assets/js/47.b05a79df.js"><link rel="prefetch" href="/blog/assets/js/48.09f94403.js"><link rel="prefetch" href="/blog/assets/js/49.cffe09bd.js"><link rel="prefetch" href="/blog/assets/js/5.3f398ea8.js"><link rel="prefetch" href="/blog/assets/js/50.bbc144de.js"><link rel="prefetch" href="/blog/assets/js/51.29fb5c68.js"><link rel="prefetch" href="/blog/assets/js/52.d2042f8d.js"><link rel="prefetch" href="/blog/assets/js/53.274cd25d.js"><link rel="prefetch" href="/blog/assets/js/54.38b1f6bf.js"><link rel="prefetch" href="/blog/assets/js/55.466512f8.js"><link rel="prefetch" href="/blog/assets/js/56.3be1bfea.js"><link rel="prefetch" href="/blog/assets/js/57.c919083e.js"><link rel="prefetch" href="/blog/assets/js/58.88f9f57c.js"><link rel="prefetch" href="/blog/assets/js/59.d78a1017.js"><link rel="prefetch" href="/blog/assets/js/6.02a67347.js"><link rel="prefetch" href="/blog/assets/js/60.85f7e060.js"><link rel="prefetch" href="/blog/assets/js/61.7f5a0117.js"><link rel="prefetch" href="/blog/assets/js/62.107841bb.js"><link rel="prefetch" href="/blog/assets/js/63.e52b96f1.js"><link rel="prefetch" href="/blog/assets/js/64.68cd3b45.js"><link rel="prefetch" href="/blog/assets/js/65.4f8891d2.js"><link rel="prefetch" href="/blog/assets/js/66.d83bdb2e.js"><link rel="prefetch" href="/blog/assets/js/67.56a423d5.js"><link rel="prefetch" href="/blog/assets/js/68.b57a2648.js"><link rel="prefetch" href="/blog/assets/js/69.84ae7ab6.js"><link rel="prefetch" href="/blog/assets/js/7.e9a4f415.js"><link rel="prefetch" href="/blog/assets/js/70.8185c301.js"><link rel="prefetch" href="/blog/assets/js/71.e92a9144.js"><link rel="prefetch" href="/blog/assets/js/72.78fc6941.js"><link rel="prefetch" href="/blog/assets/js/73.ca28169a.js"><link rel="prefetch" href="/blog/assets/js/74.5ba3efb6.js"><link rel="prefetch" href="/blog/assets/js/75.65e4ac58.js"><link rel="prefetch" href="/blog/assets/js/76.19907955.js"><link rel="prefetch" href="/blog/assets/js/77.d93015d9.js"><link rel="prefetch" href="/blog/assets/js/78.011dc4e2.js"><link rel="prefetch" href="/blog/assets/js/79.8204d6d2.js"><link rel="prefetch" href="/blog/assets/js/8.de76593a.js"><link rel="prefetch" href="/blog/assets/js/80.55ae373f.js"><link rel="prefetch" href="/blog/assets/js/81.04f50a1e.js"><link rel="prefetch" href="/blog/assets/js/82.db879ca5.js"><link rel="prefetch" href="/blog/assets/js/83.e89b8863.js"><link rel="prefetch" href="/blog/assets/js/84.07410b58.js"><link rel="prefetch" href="/blog/assets/js/85.d46c8682.js"><link rel="prefetch" href="/blog/assets/js/86.52351591.js"><link rel="prefetch" href="/blog/assets/js/87.c4ebf9a8.js"><link rel="prefetch" href="/blog/assets/js/88.09fc332a.js"><link rel="prefetch" href="/blog/assets/js/89.8b302469.js"><link rel="prefetch" href="/blog/assets/js/9.41767da0.js"><link rel="prefetch" href="/blog/assets/js/90.391f76ed.js"><link rel="prefetch" href="/blog/assets/js/91.b9d1bb73.js"><link rel="prefetch" href="/blog/assets/js/92.a65aa479.js"><link rel="prefetch" href="/blog/assets/js/93.bc850b53.js"><link rel="prefetch" href="/blog/assets/js/94.7dc858d7.js"><link rel="prefetch" href="/blog/assets/js/95.83afadb6.js"><link rel="prefetch" href="/blog/assets/js/96.85084d66.js"><link rel="prefetch" href="/blog/assets/js/97.68a76e8c.js"><link rel="prefetch" href="/blog/assets/js/98.fdb7d67a.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.bef719fb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">一名GO+PHP工程师</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://gitee.com/ColinWWL/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://gitee.com/ColinWWL/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blog/开发基础/GO/Go类型系统/1Go类型系统概述" class="sidebar-heading clickable"><span>Go类型系统</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/开发基础/GO/Go类型系统/1Go类型系统概述.html" class="sidebar-link">Go类型系统概述</a></li><li><a href="/blog/开发基础/GO/Go类型系统/2指针.html" class="sidebar-link">指针</a></li><li><a href="/blog/开发基础/GO/Go类型系统/3结构体.html" class="sidebar-link">结构体</a></li><li><a href="/blog/开发基础/GO/Go类型系统/4值部.html" class="sidebar-link">值部</a></li><li><a href="/blog/开发基础/GO/Go类型系统/5数组、切片和映射.html" class="sidebar-link">数组、切片和映射</a></li><li><a href="/blog/开发基础/GO/Go类型系统/6通道.html" class="sidebar-link">通道</a></li><li><a href="/blog/开发基础/GO/Go类型系统/7方法.html" class="sidebar-link">方法</a></li><li><a href="/blog/开发基础/GO/Go类型系统/8接口.html" class="sidebar-link">接口</a></li><li><a href="/blog/开发基础/GO/Go类型系统/9类型内嵌.html" class="sidebar-link">类型内嵌</a></li><li><a href="/blog/开发基础/GO/Go类型系统/10非类型安全指针.html" class="sidebar-link">非类型安全指针</a></li><li><a href="/blog/开发基础/GO/Go类型系统/11泛型.html" class="sidebar-link">泛型</a></li><li><a href="/blog/开发基础/GO/Go类型系统/12反射.html" class="sidebar-link">反射</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/开发基础/GO/Go编程入门/1程序源代码基本元素介绍" class="sidebar-heading clickable open"><span>Go编程入门</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/开发基础/GO/Go编程入门/1程序源代码基本元素介绍.html" class="sidebar-link">程序源代码基本元素介绍</a></li><li><a href="/blog/开发基础/GO/Go编程入门/2关键字和标识符.html" class="sidebar-link">关键字和标识符</a></li><li><a href="/blog/开发基础/GO/Go编程入门/3基本类型和它们的字面量表示.html" class="sidebar-link">基本类型和它们的字面量表示</a></li><li><a href="/blog/开发基础/GO/Go编程入门/4常量和变量.html" class="sidebar-link">常量和变量</a></li><li><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html" class="active sidebar-link">运算操作符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html#关于本文中的内容和一些解释" class="sidebar-link">关于本文中的内容和一些解释</a></li><li class="sidebar-sub-header"><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html#常量表达式" class="sidebar-link">常量表达式</a></li><li class="sidebar-sub-header"><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html#算术运算符" class="sidebar-link">算术运算符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html#关于溢出" class="sidebar-link">关于溢出</a></li><li class="sidebar-sub-header"><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html#关于算术运算的结果" class="sidebar-link">关于算术运算的结果</a></li><li class="sidebar-sub-header"><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html#关于除法和余数运算" class="sidebar-link">关于除法和余数运算</a></li><li class="sidebar-sub-header"><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html#op-运算符" class="sidebar-link">op= 运算符</a></li><li class="sidebar-sub-header"><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html#自增和自减操作符" class="sidebar-link">自增和自减操作符</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html#字符串衔接运算符" class="sidebar-link">字符串衔接运算符</a></li><li class="sidebar-sub-header"><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html#布尔-又称逻辑-运算符" class="sidebar-link">布尔（又称逻辑）运算符</a></li><li class="sidebar-sub-header"><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html#比较运算符" class="sidebar-link">比较运算符</a></li><li class="sidebar-sub-header"><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html#操作符运算的优先级" class="sidebar-link">操作符运算的优先级</a></li><li class="sidebar-sub-header"><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html#更多关于常量表达式" class="sidebar-link">更多关于常量表达式</a></li><li class="sidebar-sub-header"><a href="/blog/开发基础/GO/Go编程入门/5运算操作符.html#更多其它操作符" class="sidebar-link">更多其它操作符</a></li></ul></li><li><a href="/blog/开发基础/GO/Go编程入门/6函数声明和调用.html" class="sidebar-link">函数声明和调用</a></li><li><a href="/blog/开发基础/GO/Go编程入门/7代码包和包引入.html" class="sidebar-link">代码包和包引入</a></li><li><a href="/blog/开发基础/GO/Go编程入门/8表达式、语句和简单语句.html" class="sidebar-link">表达式、语句和简单语句</a></li><li><a href="/blog/开发基础/GO/Go编程入门/9基本流程控制语法.html" class="sidebar-link">基本流程控制语法</a></li><li><a href="/blog/开发基础/GO/Go编程入门/10协程、延迟函数调用、以及恐慌和恢复.html" class="sidebar-link">协程、延迟函数调用、以及恐慌和恢复</a></li><li><a href="/blog/开发基础/GO/Go编程入门/GO官方链接工具.html" class="sidebar-link">GO官方链接工具</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/开发基础/GO/其他文章/Go技巧" class="sidebar-heading clickable"><span>其他文章</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/开发基础/GO/其他文章/Go技巧.html" class="sidebar-link">Go技巧</a></li><li><a href="/blog/开发基础/GO/其他文章/Go细节.html" class="sidebar-link">Go细节</a></li><li><a href="/blog/开发基础/GO/其他文章/Go问答.html" class="sidebar-link">Go问答</a></li><li><a href="/blog/开发基础/GO/其他文章/命令-mod.html" class="sidebar-link">命令-mod</a></li><li><a href="/blog/开发基础/GO/其他文章/基础-Golang的time.NewTimer单次定时器使用案例.html" class="sidebar-link">基础-Golang的time. NewTimer单次定时器使用案例</a></li><li><a href="/blog/开发基础/GO/其他文章/基础-Go中的nil.html" class="sidebar-link">Go中的 nil</a></li><li><a href="/blog/开发基础/GO/其他文章/基础-Go代码断行规则.html" class="sidebar-link">Go代码断行规则</a></li><li><a href="/blog/开发基础/GO/其他文章/基础-表达式估值顺序规则.html" class="sidebar-link">表达式估值顺序规则</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/开发基础/GO/学习资料" class="sidebar-heading clickable"><span>GO</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/开发基础/GO/学习资料.html" class="sidebar-link">教学书籍</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/开发基础/GO/并发编程/1并发同步概述" class="sidebar-heading clickable"><span>并发编程</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/开发基础/GO/并发编程/1并发同步概述.html" class="sidebar-link">并发同步概述</a></li><li><a href="/blog/开发基础/GO/并发编程/2通道用例大全.html" class="sidebar-link">通道用例大全</a></li><li><a href="/blog/开发基础/GO/并发编程/3如何优雅地关闭通道.html" class="sidebar-link">如何优雅地关闭通道</a></li><li><a href="/blog/开发基础/GO/并发编程/4其它并发同步技术.html" class="sidebar-link">sync 标准库包中提供的并发同步技术</a></li><li><a href="/blog/开发基础/GO/并发编程/5原子操作 .html" class="sidebar-link">sync/atomic 标准库包中提供的原子操作</a></li><li><a href="/blog/开发基础/GO/并发编程/6Go中的内存顺序保证.html" class="sidebar-link">Go中的内存顺序保证</a></li><li><a href="/blog/开发基础/GO/并发编程/7一些常见并发编程错误.html" class="sidebar-link">一些常见并发编程错误</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/开发基础/GO/开发环境搭建/Docker和VS Code的Go开发环境" class="sidebar-heading clickable"><span>开发环境搭建</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/开发基础/GO/开发环境搭建/Docker和VS Code的Go开发环境.html" class="sidebar-link">Docker和VS Code的Go开发环境</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="运算操作符"><a href="#运算操作符" class="header-anchor">#</a> 运算操作符</h1> <p>本文将介绍适用于基本类型值的各种运算操作符。</p> <h2 id="关于本文中的内容和一些解释"><a href="#关于本文中的内容和一些解释" class="header-anchor">#</a> 关于本文中的内容和一些解释</h2> <p>本文只介绍算术运算符、位运算符、比较运算符、布尔运算符和字符串衔接运算符。 这些运算符要么是二元的（需要两个操作数），要么是一元的（需要一个操作数）。 所有这些运算符运算都只返回一个结果。操作数常常也称为操作值。</p> <p>本文中的解释不追求描述的完全准确性。 比如，当我们说一个二元运算符运算需要其涉及的两个操作数类型必须一样的时，这指：</p> <ul><li>如果这两个操作数都是类型确定值，则它们的类型必须相同，或者其中一个操作数可以被隐式转换到另一个操作数的类型。</li> <li>如果其中只有一个操作数是类型确定的，则要么另外一个类型不确定操作数可以表示为此类型确定操作数的类型的值，要么此类型不确定操作数的默认类型的任何值可以被隐式转换到此类型确定操作数的类型。</li> <li>如果这两个操作数都是类型不确定的，则它们必须同时都为两个布尔值，同时都为两个字符串值，或者同时都为两个基本数字值。</li></ul> <p>类似的，当我们说一个运算符（一元或者二元）运算要求其涉及的某个操作数的类型必须为某个特定类型时，这指：</p> <ul><li>如果这个操作数是类型确定的，则它的类型必须为所要求的特定类型，或者此操作数可以被隐式转换为所要求的特定类型。</li> <li>如果一个操作数是类型不确定的，则要么此操作数可以表示为所要求的特定类型值，要么此操作数的默认类型的任何值可以被隐式转换为所要求的特定类型。</li></ul> <h2 id="常量表达式"><a href="#常量表达式" class="header-anchor">#</a> 常量表达式</h2> <p>在继续下面的章节之前，我们需要知道什么叫常量表达式和关于常量表达式估值的一个常识。 表达式的概念将在<a href="https://gfw.go101.org/article/expressions-and-statements.html" target="_blank" rel="noopener noreferrer">表达式和语句<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>一文中得到解释。 目前我们只需知道本文中所提及的大多数运算都属于表达式。 当一个表达式中涉及到的所有操作数都是常量时，此表达式称为一个常量表达式。 一个常量表达式的估值是在编译阶段进行的。一个常量表达式的估值结果依然是一个常量。 如果一个表达式中涉及到的操作数中至少有一个不为常量，则此表达式称为非常量表达式。</p> <h2 id="算术运算符"><a href="#算术运算符" class="header-anchor">#</a> 算术运算符</h2> <p>Go支持五个基本二元算术运算符：</p> <table><thead><tr><th style="text-align:center;">字面形式</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">对两个运算数的要求</th></tr></thead> <tbody><tr><td style="text-align:center;">+</td> <td style="text-align:center;">加法</td> <td style="text-align:center;">两个运算数的类型必须相同并且为基本数值类型。</td></tr> <tr><td style="text-align:center;">-</td> <td style="text-align:center;">减法</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">*</td> <td style="text-align:center;">乘法</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">/</td> <td style="text-align:center;">除法</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">%</td> <td style="text-align:center;">余数</td> <td style="text-align:center;">两个运算数的类型必须相同并且为基本整数数值类型。</td></tr></tbody></table> <p>Go支持六种位运算符（也属于算术运算）：</p> <table><thead><tr><th style="text-align:center;">字面形式</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">对两个操作数的要求以及机制解释</th></tr></thead> <tbody><tr><td style="text-align:center;">&amp;</td> <td style="text-align:center;">位与</td> <td style="text-align:center;">两个操作数的类型必须相同并且为基本整数数值类型。机制解释（下标 <code>2</code> 表明一个字面量为二进制）： <code>11002 &amp; 10102</code> 得到 <code>10002</code> <code>11002 | 10102</code> 得到 <code>11102</code> <code>11002 ^ 10102</code> 得到 <code>01102</code> <code>11002 &amp;^ 10102</code> 得到 <code>01002</code></td></tr> <tr><td style="text-align:center;">|</td> <td style="text-align:center;">位或</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">^</td> <td style="text-align:center;">（位）异或</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">&amp;^</td> <td style="text-align:center;">清位</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">&lt;&lt;</td> <td style="text-align:center;">左移位</td> <td style="text-align:center;">左操作数必须为一个整数，右操作数也必须为一个整数（如果它是一个常数，则它必须非负），但它们的类型可以不同。 （注意：在Go 1.13之前，右操作数必须为一个无符号整数类型的类型确定值或者一个可以表示成 <code>uint</code> 值的<a href="https://gfw.go101.org/article/constants-and-variables.html#untyped-value" target="_blank" rel="noopener noreferrer">类型不确定<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>常数值。）一个负右操作数（非常数）将在运行时刻造成一个恐慌。机制解释： <code>11002 &lt;&lt; 3</code> 得到 <code>11000002</code> （低位补零） <code>11002 &gt;&gt; 3</code> 得到 <code>12</code> （低位被舍弃）注意，在右移运算中，左边空出来的位（即高位）全部用左操作数的最高位（即正负号位）填充。 比如如果左操作数 <code>-128</code> 的类型为 <code>int8</code> （二进制补码表示为 <code>100000002</code> ）， 则 <code>100000002 &gt;&gt; 2</code> 的二进制补码结果为 <code>111000002</code> （即 <code>-32</code> ）。</td></tr> <tr><td style="text-align:center;">&gt;&gt;</td> <td style="text-align:center;">右移位</td> <td style="text-align:center;"></td></tr></tbody></table> <p>Go也支持三个一元算术运算符：</p> <table><thead><tr><th style="text-align:center;">字面形式</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">解释</th></tr></thead> <tbody><tr><td style="text-align:center;">+</td> <td style="text-align:center;">取正数</td> <td style="text-align:center;"><code>+n</code> 等价于 <code>0 + n</code> .</td></tr> <tr><td style="text-align:center;">-</td> <td style="text-align:center;">取负数</td> <td style="text-align:center;"><code>-n</code> 等价于 <code>0 - n</code> .</td></tr> <tr><td style="text-align:center;">^</td> <td style="text-align:center;">位反（或位补）</td> <td style="text-align:center;"><code>^n</code> 等价于 <code>m ^ n</code> ，其中 <code>m</code> 和 <code>n</code> 同类型并且它的二进制表示中所有比特位均为1。 比如如果 <code>n</code> 的类型为 <code>int8</code> ，则 <code>m</code> 的值为 <code>-1</code> ；如果 <code>n</code> 的类型为 <code>uint8</code> ，则 <code>m</code> 的值为 <code>255</code> 。</td></tr></tbody></table> <p>注意：</p> <ul><li>在很多其它流行语言中，位反运算符是用<code>~</code>表示的。</li> <li>和一些其它流行语言一样，加号运算符<code>+</code>也可用做字符串衔接运算符（见下）。</li> <li>和C及C++语言一样，<code>*</code>除了可以当作乘号运算符，它也可以用做指针解引用运算符； <code>&amp;</code>除了可以当作位与运算符，它也可以用做取地址运算符。 后面的<a href="https://gfw.go101.org/article/pointer.html" target="_blank" rel="noopener noreferrer">指针<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>一文将详解内存地址和指针类型。</li> <li>和Java不一样，Go支持无符号数，所以Go不需要无符号右移运算符<code>&gt;&gt;&gt;</code>。</li> <li>Go不支持幂运算符， 我们必须使用<code>math</code>标准库包中的<code>Pow</code>函数来进行幂运算。 下一篇文章将详解<a href="https://gfw.go101.org/article/packages-and-imports.html" target="_blank" rel="noopener noreferrer">包和包引入<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li>清位运算符<code>&amp;^</code>是Go中特有的一个运算符。 <code>m &amp;^ n</code>等价于<code>m &amp; (^n)</code>。</li></ul> <p>一些运算符的使用示例：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> <span class="token punctuation">(</span>
		a<span class="token punctuation">,</span> b <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token number">12.0</span><span class="token punctuation">,</span> <span class="token number">3.14</span>
		c<span class="token punctuation">,</span> d <span class="token builtin">int16</span>   <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">6</span>
		e	<span class="token builtin">uint8</span>   <span class="token operator">=</span> <span class="token number">7</span>
	<span class="token punctuation">)</span>

	<span class="token comment">// 这些行编译没问题。</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> <span class="token number">12</span> <span class="token operator">+</span> <span class="token string">'A'</span> <span class="token comment">// 两个类型不确定操作数（都为数值类型）</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> <span class="token number">12</span> <span class="token operator">-</span> a   <span class="token comment">// 12将被当做a的类型（float32）使用。</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> a <span class="token operator">*</span> b    <span class="token comment">// 两个同类型的类型确定操作数。</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> c <span class="token operator">%</span> d
	<span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> c <span class="token operator">+</span> <span class="token function">int16</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">uint8</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">+</span> e
	<span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> a <span class="token operator">/</span> b<span class="token punctuation">,</span> c <span class="token operator">/</span> d<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span> <span class="token operator">/</span> <span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1.23</span> <span class="token operator">/</span> <span class="token number">1.2</span>
	<span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> c <span class="token operator">|</span> d<span class="token punctuation">,</span> c <span class="token operator">&amp;</span> d<span class="token punctuation">,</span> c <span class="token operator">^</span> d<span class="token punctuation">,</span> c <span class="token operator">&amp;^</span> d
	<span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> d <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">,</span> <span class="token number">123</span> <span class="token operator">&gt;&gt;</span> e<span class="token punctuation">,</span> e <span class="token operator">&gt;&gt;</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0xF</span> <span class="token operator">&lt;&lt;</span> <span class="token number">0</span>
	<span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> <span class="token operator">-</span>b<span class="token punctuation">,</span> <span class="token operator">+</span>c<span class="token punctuation">,</span> <span class="token operator">^</span>e<span class="token punctuation">,</span> <span class="token operator">^</span><span class="token operator">-</span><span class="token number">1</span>

	<span class="token comment">// 这些行编译将失败。</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> a <span class="token operator">%</span> b   <span class="token comment">// error: a和b都不是整数</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> a <span class="token operator">|</span> b   <span class="token comment">// error: a和b都不是整数</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> c <span class="token operator">+</span> e   <span class="token comment">// error: c和e的类型不匹配</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> b <span class="token operator">&gt;&gt;</span> <span class="token number">5</span>  <span class="token comment">// error: b不是一个整数</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> c <span class="token operator">&gt;&gt;</span> <span class="token operator">-</span><span class="token number">5</span> <span class="token comment">// error: -5不是一个无符号整数</span>

	<span class="token boolean">_</span> <span class="token operator">=</span> e <span class="token operator">&lt;&lt;</span> <span class="token function">uint</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">// 编译没问题</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> e <span class="token operator">&lt;&lt;</span> c       <span class="token comment">// 从Go 1.13开始，此行才能编译过</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> e <span class="token operator">&lt;&lt;</span> <span class="token operator">-</span>c      <span class="token comment">// 从Go 1.13开始，此行才能编译过。</span>
	                 <span class="token comment">// 将在运行时刻造成恐慌。</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> e <span class="token operator">&lt;&lt;</span> <span class="token operator">-</span><span class="token number">1</span>      <span class="token comment">// error: 右操作数不能为负（常数）</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="关于溢出"><a href="#关于溢出" class="header-anchor">#</a> 关于溢出</h3> <p>上一篇文章提到了</p> <ul><li>一个类型确定数字型常量所表示的值是不能溢出它的类型的表示范围的。</li> <li>一个类型不确定数字型常量所表示的值是可以溢出它的默认类型的表示范围的。 当一个类型不确定数字常量值溢出它的默认类型的表示范围时，此数值不会被截断（亦即回绕）。</li> <li>将一个非常量数字值转换为其它数字类型时，此非常量数字值可以溢出转化结果的类型。 在此转换中，当溢出发生时，转化结果为此非常量数字值的截断（亦即回绕）表示。</li></ul> <p>对于一个算数运算的结果，上述规则同样适用。</p> <p>示例：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// 结果为非常量</span>
<span class="token keyword">var</span> a<span class="token punctuation">,</span> b <span class="token builtin">uint8</span> <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">1</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> a <span class="token operator">+</span> b  <span class="token comment">// c==0。a+b是一个非常量表达式，</span>
               <span class="token comment">// 结果中溢出的高位比特将被截断舍弃。</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> a <span class="token operator">&lt;&lt;</span> b <span class="token comment">// d == 254。同样，结果中溢出的</span>
               <span class="token comment">// 高位比特将被截断舍弃。</span>

<span class="token comment">// 结果为类型不确定常量，允许溢出其默认类型。</span>
<span class="token keyword">const</span> X <span class="token operator">=</span> <span class="token number">0x1FFFFFFFF</span> <span class="token operator">*</span> <span class="token number">0x1FFFFFFFF</span> <span class="token comment">// 没问题，尽管X溢出</span>
<span class="token keyword">const</span> R <span class="token operator">=</span> <span class="token string">'a'</span> <span class="token operator">+</span> <span class="token number">0x7FFFFFFF</span>          <span class="token comment">// 没问题，尽管R溢出</span>

<span class="token comment">// 运算结果或者转换结果为类型确定常量</span>
<span class="token keyword">var</span> e <span class="token operator">=</span> X                <span class="token comment">// error: X溢出int。</span>
<span class="token keyword">var</span> h <span class="token operator">=</span> R                <span class="token comment">// error: R溢出rune。</span>
<span class="token keyword">const</span> Y <span class="token operator">=</span> <span class="token number">128</span> <span class="token operator">-</span> <span class="token function">int8</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">// error: 128溢出int8。</span>
<span class="token keyword">const</span> Z <span class="token operator">=</span> <span class="token function">uint8</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// error: 256溢出uint8。</span>
</code></pre></div><h3 id="关于算术运算的结果"><a href="#关于算术运算的结果" class="header-anchor">#</a> 关于算术运算的结果</h3> <p>除了移位运算，对于一个二元算术运算，</p> <ul><li>如果它的两个操作数都为类型确定值，则此运算的结果也是一个和这两个操作数类型相同的类型确定值。</li> <li>如果只有一个操作数是类型确定的，则此运算的结果也是一个和此类型确定操作数类型相同的类型确定值。 另一个类型不确定操作数的类型将被推断为（或隐式转换为）此类型确定操作数的类型。</li> <li>如果它的两个操作数均为类型不确定值，则此运算的结果也是一个类型不确定值。 在运算中，两个操作数的类型将被设想为它们的默认类型中一个（按照此优先级来选择：<code>complex128</code>高于<code>float64</code>高于<code>rune</code>高于<code>int</code>）。 结果的默认类型同样为此设想类型。 比如，如果一个类型不确定操作数的默认类型为<code>int</code>，另一个类型不确定操作数的默认类型为<code>rune</code>， 则前者的类型在运算中也被视为<code>rune</code>，运算结果为一个默认类型为<code>rune</code>的类型不确定值。</li></ul> <p>对于移位运算，结果规则有点小复杂。首先移位运算的结果肯定都是整数。</p> <ul><li>如果左操作数是一个类型确定值（则它的类型必定为整数），则此移位运算的结果也是一个和左操作数类型相同的类型确定值。</li> <li>如果左操作数是一个类型不确定值<strong>并且右操作数是一个常量</strong>，则左操作数将总是被视为一个整数。 如果它的默认类型不是一个整数（<code>rune</code>或<code>int</code>），则它的默认类型将被视为<code>int</code>。 此移位运算的结果也是一个类型不确定值并且它的默认类型和左操作数的默认类型一致。</li> <li>如果左操作数是一个类型不确定值<strong>并且右操作数是一个非常量</strong>，则左操作数将被首先转化为运算结果的期待设想类型。 如果期待设想类型并没有被指定，则左操作数的默认类型将被视为它的期待设想类型。 如果此期待设想类型不是一个基本整数类型，则编译报错。 当然最终运算结果是一个类型为此期待设想类型的类型确定值。</li></ul> <p>一些非移位算术运算的例子：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 三个类型不确定常量。它们的默认类型</span>
	<span class="token comment">// 分别为：int、rune和complex64.</span>
	<span class="token keyword">const</span> X<span class="token punctuation">,</span> Y<span class="token punctuation">,</span> Z <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token number">3i</span>

	<span class="token keyword">var</span> a<span class="token punctuation">,</span> b <span class="token builtin">int</span> <span class="token operator">=</span> X<span class="token punctuation">,</span> Y <span class="token comment">// 两个类型确定值</span>

	<span class="token comment">// 变量d的类型被推断为Y的默认类型：rune（亦即int32）。</span>
	d <span class="token operator">:=</span> X <span class="token operator">+</span> Y
	<span class="token comment">// 变量e的类型被推断为a的类型：int。</span>
	e <span class="token operator">:=</span> Y <span class="token operator">-</span> a
	<span class="token comment">// 变量f的类型和a及b的类型一样：int。</span>
	f <span class="token operator">:=</span> a <span class="token operator">*</span> b
	<span class="token comment">// 变量g的类型被推断为Z的默认类型：complex64。</span>
	g <span class="token operator">:=</span> Z <span class="token operator">*</span> Y

	<span class="token comment">// 2 65 (+0.000000e+000+3.000000e+000i)</span>
	<span class="token function">println</span><span class="token punctuation">(</span>X<span class="token punctuation">,</span> Y<span class="token punctuation">,</span> Z<span class="token punctuation">)</span>
	<span class="token comment">// 67 63 130 (+0.000000e+000+1.950000e+002i)</span>
	<span class="token function">println</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> e<span class="token punctuation">,</span> f<span class="token punctuation">,</span> g<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>一个移位算术运算的例子：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">const</span> N <span class="token operator">=</span> <span class="token number">2</span>
<span class="token comment">// A == 12，它是一个默认类型为int的类型不确定值。</span>
<span class="token keyword">const</span> A <span class="token operator">=</span> <span class="token number">3.0</span> <span class="token operator">&lt;&lt;</span> N
<span class="token comment">// B == 12，它是一个类型为int8的类型确定值。</span>
<span class="token keyword">const</span> B <span class="token operator">=</span> <span class="token function">int8</span><span class="token punctuation">(</span><span class="token number">3.0</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> N

<span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token function">uint</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span>
<span class="token comment">// 下面的三行是相互等价的。</span>
<span class="token keyword">var</span> x <span class="token builtin">int64</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> m  <span class="token comment">// 1的类型将被设想为int64，而非int</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token function">int64</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> m<span class="token punctuation">)</span> <span class="token comment">// 同上</span>
<span class="token keyword">var</span> z <span class="token operator">=</span> <span class="token function">int64</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> m <span class="token comment">// 同上</span>

<span class="token comment">// 下面这行编译不通过。</span>
<span class="token comment">/*
var _ = 1.23 &lt;&lt; m // error: 浮点数不能被移位
*/</span>
</code></pre></div><p>上面提到的移位运算结果的最后一点类型推断规则有点反常。 这条规则的主要目的是为了防止一些移位运算在32位架构和64位架构的机器上的运算结果出现不一致但不一致却没有被及时发现的情况。 比如如果上面一段代码中第<em>10</em>行（或第<em>9</em>行）的 <code>1</code> 的类型被推断为它的默认类型 <code>int</code> ， 则在32位架构的机器上， <code>x</code> 的取值在运行时刻将被截断为<em>0</em>，而在64位架构的机器上， <code>x</code> 的取值在运行时刻将为<em>232</em>。 因为 <code>m</code> 是一个变量，在32位架构的机器上，第<em>9</em>行和第<em>10</em>行并不会在编译时刻报错。 这将导致Go程序员在不经意间写出没有料到的和难以觉察的bug。 因此，第<em>9</em>行和第<em>10</em>行中的 <code>1</code> 的类型被推断为 <code>int64</code> （最终的设想结果类型），而不是它们的默认类型 <code>int</code> 。</p> <p>下面这段代码展示了对于左操作数为类型不确定值的移位运算，编译结果因右操作数是否为常量而带来的不同结果：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token function">uint</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token function">uint</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment">// 这两行编译没问题。</span>
<span class="token keyword">var</span> <span class="token boolean">_</span> <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> n
<span class="token keyword">var</span> <span class="token boolean">_</span> <span class="token operator">=</span> <span class="token function">float64</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> n<span class="token punctuation">)</span>

<span class="token comment">// 这两行编译失败。</span>
<span class="token keyword">var</span> <span class="token boolean">_</span> <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> m  <span class="token comment">// error</span>
<span class="token keyword">var</span> <span class="token boolean">_</span> <span class="token operator">=</span> <span class="token function">float64</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> m<span class="token punctuation">)</span> <span class="token comment">// error</span>
</code></pre></div><p>上面这段代码最后两行编译失败是因为它们都等价于下面这两行：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> <span class="token boolean">_</span> <span class="token operator">=</span> <span class="token function">float64</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> m
<span class="token keyword">var</span> <span class="token boolean">_</span> <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">&lt;&lt;</span> m <span class="token comment">// error: shift of type float64</span>
</code></pre></div><p>另一个例子：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token function">uint</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token function">uint</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token comment">// 2 0</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> a <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">/</span> <span class="token number">128</span>
<span class="token keyword">var</span> b <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> m <span class="token operator">/</span> <span class="token number">128</span>
</code></pre></div><p>上面这个程序打印出 <code>2 0</code> ，因为最后两行等价于：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">byte</span><span class="token punctuation">(</span><span class="token function">int</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">/</span> <span class="token number">128</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">byte</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> m <span class="token operator">/</span> <span class="token number">128</span>
</code></pre></div><h3 id="关于除法和余数运算"><a href="#关于除法和余数运算" class="header-anchor">#</a> 关于除法和余数运算</h3> <p>假设两个操作数 <code>x</code> 和 <code>y</code> 的类型为同一个整数类型， 则它们通过除法和余数运算得到的商 <code>q</code> （ <code>= x / y</code> ）和余数 <code>r</code> （ <code>= x % y</code> ）满足 <code>x == q*y + r</code> （ <code>|r| &lt; |y|</code> ）。如果余数 <code>r</code> 不为零，则它的符号和被除数 <code>x</code> 相同。商 <code>q</code> 的结果为 <code>x / y</code> 向零靠拢截断。</p> <p>如果除数 <code>y</code> 是一个常量，则它必须不为0，否则编译不通过。 如果它是一个整数型非常量，则在运行时刻将抛出一个恐慌（panic）。 恐慌类似与某些其它语言中的异常（exception）。 我们将在以后的文章中了解到Go中的恐慌和恐慌恢复机制。 如果除数 <code>y</code> 非整数型的非常量，则运算结果为一个无穷大（Inf，当被除数不为0时）或者NaN（not a number，当被除数为0时）。</p> <p>示例：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token function">println</span><span class="token punctuation">(</span> <span class="token number">5</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">,</span>   <span class="token number">5</span><span class="token operator">%</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment">// 1 2</span>
<span class="token function">println</span><span class="token punctuation">(</span> <span class="token number">5</span><span class="token operator">/</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span>  <span class="token number">5</span><span class="token operator">%</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// -1 2</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">,</span>  <span class="token operator">-</span><span class="token number">5</span><span class="token operator">%</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment">// -1 -2</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token operator">/</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token operator">%</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 1 -2</span>

<span class="token function">println</span><span class="token punctuation">(</span><span class="token number">5.0</span> <span class="token operator">/</span> <span class="token number">3.0</span><span class="token punctuation">)</span>     <span class="token comment">// 1.666667</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">1i</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">1i</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// -1i</span>

<span class="token keyword">var</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span>
<span class="token function">println</span><span class="token punctuation">(</span>a<span class="token operator">/</span>b<span class="token punctuation">,</span> b<span class="token operator">/</span>b<span class="token punctuation">)</span> <span class="token comment">// +Inf NaN</span>

<span class="token boolean">_</span> <span class="token operator">=</span> <span class="token function">int</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">int</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 编译没问题，但在运行时刻将造成恐慌。</span>

<span class="token comment">// 这两行编译不通过。</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token operator">/</span><span class="token number">0.0</span><span class="token punctuation">)</span> <span class="token comment">// error: 除数为0</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token operator">/</span><span class="token number">0.0</span><span class="token punctuation">)</span> <span class="token comment">// error: 除数为0</span>
</code></pre></div><h3 id="op-运算符"><a href="#op-运算符" class="header-anchor">#</a> <code>op=</code> 运算符</h3> <p>对于一个二元算数运算符 <code>op</code> ，语句 <code>x = x op y</code> 可以被简写为 <code>x op= y</code> 。 在这个简写的语句中， <code>x</code> 只会被估值一次。</p> <p>示例：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> a<span class="token punctuation">,</span> b <span class="token builtin">int8</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span>
a <span class="token operator">+=</span> b
<span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 8</span>
a <span class="token operator">*=</span> a
<span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 64</span>
a <span class="token operator">/=</span> b
<span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 12</span>
a <span class="token operator">%=</span> b
<span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 2</span>
b <span class="token operator">&lt;&lt;=</span> <span class="token function">uint</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 20</span>
</code></pre></div><h3 id="自增和自减操作符"><a href="#自增和自减操作符" class="header-anchor">#</a> 自增和自减操作符</h3> <p>和很多其它流行语言一样，Go也支持自增（ <code>++</code> ）和自减（ <code>--</code> ）操作符。 不过和其它语言不一样的是，自增（ <code>aNumber++</code> ）和自减（ <code>aNumber--</code> ）操作操作没有返回值， 所以它们不能当做<a href="https://gfw.go101.org/article/expressions-and-statements.html" target="_blank" rel="noopener noreferrer">表达式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来使用。 另一个显著区别是，在Go中，自增（ <code>++</code> ）和自减（ <code>--</code> ）操作符只能后置，不能前置。</p> <p>一个例子：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">:=</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">+</span><span class="token number">2i</span>
	a<span class="token operator">++</span> <span class="token comment">// ok. &lt;=&gt; a += 1 &lt;=&gt; a = a + 1</span>
	b<span class="token operator">--</span> <span class="token comment">// ok. &lt;=&gt; b -= 1 &lt;=&gt; b = b - 1</span>
	c<span class="token operator">++</span> <span class="token comment">// ok.</span>

	<span class="token comment">// 下面这些行编译不通过。</span>
	<span class="token comment">/*
	_ = a++
	_ = b--
	_ = c++
	++a
	--b
	++c
	*/</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="字符串衔接运算符"><a href="#字符串衔接运算符" class="header-anchor">#</a> 字符串衔接运算符</h2> <p>上面已经提到了，加法运算符也可用做字符串衔接运算符。</p> <table><thead><tr><th style="text-align:center;">字面形式</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">对两个操作数的要求</th></tr></thead> <tbody><tr><td style="text-align:center;">+</td> <td style="text-align:center;">字符串衔接</td> <td style="text-align:center;">两个操作数必须为同一类型的字符串值。</td></tr></tbody></table> <p><code>+=</code> 运算符也适用于字符串衔接。</p> <p>示例：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Go&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;lang&quot;</span><span class="token punctuation">)</span> <span class="token comment">// Golang</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;Go&quot;</span>
a <span class="token operator">+=</span> <span class="token string">&quot;lang&quot;</span>
<span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// Golang</span>
</code></pre></div><p>如果一个字符串衔接运算中的一个操作值为类型确定的，则结果字符串是一个类型和此操作数类型相同的类型确定值。 否则，结果字符串是一个类型不确定值（肯定是一个常量）。</p> <h2 id="布尔-又称逻辑-运算符"><a href="#布尔-又称逻辑-运算符" class="header-anchor">#</a> 布尔（又称逻辑）运算符</h2> <p>Go支持两种布尔二元运算符和一种布尔一元运算符。</p> <table><thead><tr><th style="text-align:center;">字面形式</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">对操作值的要求</th></tr></thead> <tbody><tr><td style="text-align:center;">&amp;&amp;</td> <td style="text-align:center;">布尔与（二元）</td> <td style="text-align:center;">两个操作值的类型必须为同一布尔类型。</td></tr> <tr><td style="text-align:center;">||</td> <td style="text-align:center;">布尔或（二元）</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">!</td> <td style="text-align:center;">布尔否（一元）</td> <td style="text-align:center;">唯一的一个操作值的类型必须为一个布尔类型。</td></tr></tbody></table> <p>我们可以用下一小节介绍的不等于操作符 <code>!=</code> 来做为布尔异或操作符。</p> <p>机理解释：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// x    y       x &amp;&amp; y   x || y   !x      !y</span>
<span class="token boolean">true</span>    <span class="token boolean">true</span>    <span class="token boolean">true</span>     <span class="token boolean">true</span>     <span class="token boolean">false</span>   <span class="token boolean">false</span>
<span class="token boolean">true</span>    <span class="token boolean">false</span>   <span class="token boolean">false</span>    <span class="token boolean">true</span>     <span class="token boolean">false</span>   <span class="token boolean">true</span>
<span class="token boolean">false</span>   <span class="token boolean">true</span>    <span class="token boolean">false</span>    <span class="token boolean">true</span>     <span class="token boolean">true</span>    <span class="token boolean">false</span>
<span class="token boolean">false</span>   <span class="token boolean">false</span>   <span class="token boolean">false</span>    <span class="token boolean">false</span>    <span class="token boolean">true</span>    <span class="token boolean">true</span>
</code></pre></div><p>如果一个布尔运算中的一个操作值为类型确定的，则结果为一个和此操作值类型相同的类型确定值。 否则，结果为一个类型不确定布尔值。</p> <h2 id="比较运算符"><a href="#比较运算符" class="header-anchor">#</a> 比较运算符</h2> <p>Go支持6种比较运算符：</p> <table><thead><tr><th style="text-align:center;">字面形式</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">对两个操作值的要求</th></tr></thead> <tbody><tr><td style="text-align:center;">==</td> <td style="text-align:center;">等于</td> <td style="text-align:center;">如果两个操作数都为类型确定的，则它们的类型必须一样，或者其中一个操作数可以隐式转换为另一个操作数的类型。 两者的类型必须都为可比较类型（将在以后的文章中介绍）。如果只有一个操作数是类型确定的，则另一个类型不确定操作数必须可以隐式转换到类型确定操作数的类型。如果两个操作数都是类型不确定的，则它们必须同时为两个类型不确定布尔值、两个类型不确定字符串值或者另个类型不确定数字值。</td></tr> <tr><td style="text-align:center;">!=</td> <td style="text-align:center;">不等于</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">&lt;</td> <td style="text-align:center;">小于</td> <td style="text-align:center;">两个操作值的类型必须相同并且它们的类型必须为整数类型、浮点数类型或者字符串类型。</td></tr> <tr><td style="text-align:center;">&lt;=</td> <td style="text-align:center;">小于或等于</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">&gt;</td> <td style="text-align:center;">大于</td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">&gt;=</td> <td style="text-align:center;">大于或等于</td> <td style="text-align:center;"></td></tr></tbody></table> <p>比较运算的结果总是一个类型不确定布尔值。 如果一个比较运算中的两个操作数都为常量，则结果布尔值也为一个常量。</p> <p>以后，如果我们说两个值可以比较，我们的意思是说这两个值可以用 <code>==</code> 或者 <code>!=</code> 运算符来比较。 我们将在以后的文章中，我们将了解到某些类型的值是不能比较的。</p> <p>注意，并非所有的实数在内存中都可以被精确地表示，所以比较两个浮点数或者复数的结果并不是很可靠。 在编程中，我们常常比较两个浮点数的差值是否小于一个阙值来检查两个浮点数是否相等。</p> <h2 id="操作符运算的优先级"><a href="#操作符运算的优先级" class="header-anchor">#</a> 操作符运算的优先级</h2> <p>Go中的操作符运算的优先级和其它流行语言有一些差别。 下面列出了本文介绍的操作符的优先级。 同一行中的操作符的优先级是一样的。优先级逐行递减。</p> <div class="language-go extra-class"><pre class="language-go"><code>
<span class="token operator">*</span>   <span class="token operator">/</span>   <span class="token operator">%</span>   <span class="token operator">&lt;&lt;</span>  <span class="token operator">&gt;&gt;</span>  <span class="token operator">&amp;</span>   <span class="token operator">&amp;^</span>
<span class="token operator">*</span>   <span class="token operator">-</span>   <span class="token operator">|</span>   <span class="token operator">^</span>

<span class="token operator">==</span>  <span class="token operator">!=</span>  <span class="token operator">&lt;</span>   <span class="token operator">&lt;=</span>  <span class="token operator">&gt;</span>   <span class="token operator">&gt;=</span>
<span class="token operator">&amp;&amp;</span>
<span class="token operator">||</span>
</code></pre></div><p>一个和其它流行语言明显的差别是，移位运算 <code>&lt;&lt;</code> 和 <code>&gt;&gt;</code> 的优先级比加减法 <code>+</code> 和 <code>-</code> 的优先级要高。</p> <p>一个表达式（做为一个子表达式）可以出现在另一个表达式中。 这个子表达式的估值结果将成为另一个表达式的一个操作数。 在这样的复杂表达式中，对于相同优先级的运算，它们将从左到右进行估值。 和很多其它语言一样，我们也可用一对小括号 <code>()</code> 来提升一个子运算的优先级。</p> <h2 id="更多关于常量表达式"><a href="#更多关于常量表达式" class="header-anchor">#</a> 更多关于常量表达式</h2> <p>常量子表达式的顺序有可能影响到最终的估值结果。</p> <p>下面这个声明的变量将被初始化为 <code>2.2</code> ，而不是 <code>2.7</code> 。 优先级更高的子表达式 <code>3/2</code> 是一个常量表达式，所以它将在编译阶段被估值。 根据上面介绍的规则，在运算中， <code>3</code> 和 <code>2</code> 都被视为 <code>int</code> ，所以 <code>3/2</code> 的估值结果为 <code>1</code> 。 在常量表达式 <code>1.2 + 1</code> 的运算中，两个操作数的类型被视为 <code>float64</code> ，所以最终的估值结果为 <code>2.2</code> 。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1.2</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token operator">/</span><span class="token number">2</span>
</code></pre></div><p>再比如下例，在一个常量声明中， <code>3/2</code> 先被估值，其结果为 <code>1</code> ，所以最终的估值结果为 <code>0.1</code> 。 在第二个常量声明中， <code>0.1*3</code> 先被估值，其结果为 <code>0.3</code> ，所以最终的估值结果为 <code>0.15</code> 。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token number">3</span><span class="token operator">/</span><span class="token number">2</span><span class="token operator">*</span><span class="token number">0.1</span>
<span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token number">0.1</span><span class="token operator">*</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">2</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">// +1.000000e-001</span>
	<span class="token function">println</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token comment">// +1.500000e-001</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="更多其它操作符"><a href="#更多其它操作符" class="header-anchor">#</a> 更多其它操作符</h2> <p>Go中还有一些其它操作符。它们将在后续其它适当的文章中介绍。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">5/21/2021, 1:25:38 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/开发基础/GO/Go编程入门/4常量和变量.html" class="prev">
        常量和变量
      </a></span> <span class="next"><a href="/blog/开发基础/GO/Go编程入门/6函数声明和调用.html">
        函数声明和调用
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.77332b34.js" defer></script><script src="/blog/assets/js/3.21e2e031.js" defer></script><script src="/blog/assets/js/99.c4b1cfd7.js" defer></script>
  </body>
</html>
